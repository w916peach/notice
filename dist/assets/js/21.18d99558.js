(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{228:function(t,e,n){"use strict";n.r(e);var a=n(0),s=Object(a.a)({},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),n("p",[t._v("More formally, ASAP provides a fast event queue that will execute tasks\nuntil it is empty before yielding to the JavaScript engine's underlying\nevent-loop.  When the event queue becomes non-empty, ASAP schedules a\nflush event, preferring for that event to occur before the JavaScript\nengine has an opportunity to perform IO tasks or rendering, thus making\nthe first task and subsequent tasks semantically indistinguishable.\nASAP uses a variety of techniques to preserve this invariant on\ndifferent versions of browsers and NodeJS.")]),t._v(" "),n("p",[t._v("By design, ASAP can starve the event loop on the theory that, if there\nis enough work to be done synchronously, albeit in separate events, long\nenough to starve input or output, it is a strong indicator that the\nprogram needs to push back on scheduling more work.")]),t._v(" "),t._m(3),t._v(" "),t._m(4),n("p",[t._v("ASAP is distinct from "),n("code",[t._v("setImmediate")]),t._v(" in that it does not suffer the\noverhead of returning a handle and being possible to cancel.  For a\n"),n("code",[t._v("setImmediate")]),t._v(" shim, consider "),n("a",{attrs:{href:"https://github.com/noblejs/setimmediate",target:"_blank",rel:"noopener noreferrer"}},[t._v("setImmediate"),n("OutboundLink")],1),t._v(".")]),t._v(" "),n("p",[t._v("If a task throws an exception, it will not interrupt the flushing of\nhigh-priority tasks.  The exception will be postponed to a later,\nlow-priority event to avoid slow-downs, when the underlying JavaScript\nengine will treat it as it does any unhandled exception.")]),t._v(" "),t._m(5),t._v(" "),n("p",[t._v("ASAP has been factored out of the "),n("a",{attrs:{href:"https://github.com/kriskowal/q",target:"_blank",rel:"noopener noreferrer"}},[t._v("Q"),n("OutboundLink")],1),t._v(" asynchronous promise library.\nIt originally had a naïve implementation in terms of "),n("code",[t._v("setTimeout")]),t._v(", but\n"),n("a",{attrs:{href:"http://www.nonblocking.io/2011/06/windownexttick.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Malte Ubl"),n("OutboundLink")],1),t._v(" provided an insight that "),n("code",[t._v("postMessage")]),t._v(" might be\nuseful for creating a high-priority, no-delay event dispatch hack.\nSince then, Internet Explorer proposed and implemented "),n("code",[t._v("setImmediate")]),t._v(".\nRobert Kratić began contributing to Q by measuring the performance of\nthe internal implementation of "),n("code",[t._v("asap")]),t._v(", paying particular attention to\nerror recovery.  Domenic, Robert, and I collectively settled on the\ncurrent strategy of unrolling the high-priority event queue internally\nregardless of what strategy we used to dispatch the potentially\nlower-priority flush event.  Domenic went on to make ASAP cooperate with\nNodeJS domains.")]),t._v(" "),n("p",[t._v("For further reading, Nicholas Zakas provided a thorough article on "),n("a",{attrs:{href:"http://www.nczonline.net/blog/2013/07/09/the-case-for-setimmediate/",target:"_blank",rel:"noopener noreferrer"}},[t._v("The\nCase for setImmediate"),n("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(6),t._v(" "),n("p",[t._v("Copyright 2009-2013 by Contributors\nMIT License (enclosed)")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"asap"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#asap","aria-hidden":"true"}},[this._v("#")]),this._v(" ASAP")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("This "),n("code",[t._v("asap")]),t._v(" CommonJS package contains a single "),n("code",[t._v("asap")]),t._v(" module that\nexports a single "),n("code",[t._v("asap")]),t._v(" function that executes a function "),n("strong",[t._v("as soon as\npossible")]),t._v(".")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token function"}},[t._v("asap")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Take care.  ASAP can sustain infinite recursive calls indefinitely\nwithout warning.  This is behaviorally equivalent to an infinite loop.\nIt will not halt from a stack overflow, but it "),e("em",[this._v("will")]),this._v(" chew through\nmemory (which is an oddity I cannot explain at this time).  Just as with\ninfinite loops, you can monitor a Node process for this behavior with a\nheart-beat signal.  As with infinite loops, a very small amount of\ncaution goes a long way to avoiding problems.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"language-javascript line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("loop")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("asap")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loop"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token function"}},[t._v("loop")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"heritage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#heritage","aria-hidden":"true"}},[this._v("#")]),this._v(" Heritage")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[this._v("#")]),this._v(" License")])}],!1,null,null,null);s.options.__file="README.md";e.default=s.exports}}]);
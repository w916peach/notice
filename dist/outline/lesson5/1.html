<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>知识点(服务端开发) | 课程大纲</title>
    <meta name="description" content="专业高级大纲整理与改进">
    
    
    <link rel="preload" href="/notice/dist/assets/css/0.styles.9e8ce017.css" as="style"><link rel="preload" href="/notice/dist/assets/js/app.7ccec205.js" as="script"><link rel="preload" href="/notice/dist/assets/js/2.8a1ecbdb.js" as="script"><link rel="prefetch" href="/notice/dist/assets/js/10.1f69cc82.js"><link rel="prefetch" href="/notice/dist/assets/js/11.796680a8.js"><link rel="prefetch" href="/notice/dist/assets/js/12.1e5aabde.js"><link rel="prefetch" href="/notice/dist/assets/js/13.5dad658b.js"><link rel="prefetch" href="/notice/dist/assets/js/14.4c4a060f.js"><link rel="prefetch" href="/notice/dist/assets/js/15.46015b90.js"><link rel="prefetch" href="/notice/dist/assets/js/16.f65ba386.js"><link rel="prefetch" href="/notice/dist/assets/js/17.040522e4.js"><link rel="prefetch" href="/notice/dist/assets/js/18.5062190c.js"><link rel="prefetch" href="/notice/dist/assets/js/19.58eb610b.js"><link rel="prefetch" href="/notice/dist/assets/js/20.89c5a7a3.js"><link rel="prefetch" href="/notice/dist/assets/js/21.13037bc1.js"><link rel="prefetch" href="/notice/dist/assets/js/22.cfda1ca3.js"><link rel="prefetch" href="/notice/dist/assets/js/23.dae98e79.js"><link rel="prefetch" href="/notice/dist/assets/js/24.3bb40316.js"><link rel="prefetch" href="/notice/dist/assets/js/25.6f85279d.js"><link rel="prefetch" href="/notice/dist/assets/js/26.2ae72cca.js"><link rel="prefetch" href="/notice/dist/assets/js/27.91ba69ef.js"><link rel="prefetch" href="/notice/dist/assets/js/3.4b0bdf66.js"><link rel="prefetch" href="/notice/dist/assets/js/4.7863f074.js"><link rel="prefetch" href="/notice/dist/assets/js/5.4b1653fb.js"><link rel="prefetch" href="/notice/dist/assets/js/6.5da5d1c5.js"><link rel="prefetch" href="/notice/dist/assets/js/7.ade00e18.js"><link rel="prefetch" href="/notice/dist/assets/js/8.bc42caee.js"><link rel="prefetch" href="/notice/dist/assets/js/9.2fa265aa.js">
    <link rel="stylesheet" href="/notice/dist/assets/css/0.styles.9e8ce017.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notice/dist/" class="home-link router-link-active"><!----> <span class="site-name">课程大纲</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">课程大纲</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notice/dist/info/1.html" class="nav-link">概要记录</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson6/1.html" class="nav-link">javaScript上</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson3/1.html" class="nav-link">javaScript下</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson4/1.html" class="nav-link">模块</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson0/1.html" class="nav-link">pc端项目整合</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson1/1.html" class="nav-link">移动端开发</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson5/1.html" class="nav-link router-link-exact-active router-link-active">服务端开发</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson2/1.html" class="nav-link">移动项目整合</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson7/1.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/interview/react/1.html" class="nav-link">react相关</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/interview/often/1.html" class="nav-link">常见问题汇总</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">课程大纲</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notice/dist/info/1.html" class="nav-link">概要记录</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson6/1.html" class="nav-link">javaScript上</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson3/1.html" class="nav-link">javaScript下</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson4/1.html" class="nav-link">模块</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson0/1.html" class="nav-link">pc端项目整合</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson1/1.html" class="nav-link">移动端开发</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson5/1.html" class="nav-link router-link-exact-active router-link-active">服务端开发</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson2/1.html" class="nav-link">移动项目整合</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/outline/lesson7/1.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/interview/react/1.html" class="nav-link">react相关</a></li><li class="dropdown-item"><!----> <a href="/notice/dist/interview/often/1.html" class="nav-link">常见问题汇总</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notice/dist/outline/lesson5/1.html" class="active sidebar-link">知识点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#课程引导" class="sidebar-link">课程引导</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#javascript可以用来做什么" class="sidebar-link">javaScript可以用来做什么</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#node的重要性" class="sidebar-link">node的重要性</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nodejs是什么" class="sidebar-link">nodejs是什么</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#了解web架构" class="sidebar-link">了解web架构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是web？" class="sidebar-link">什么是web？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#web由哪些构成？" class="sidebar-link">web由哪些构成？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#web如何为用户提供服务的？（重点）" class="sidebar-link">web如何为用户提供服务的？（重点）</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nodejs快速入门" class="sidebar-link">nodejs快速入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#再谈客户端javascript" class="sidebar-link">再谈客户端JavaScript</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是node-js？" class="sidebar-link">什么是node.js？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nodejs可以做什么？" class="sidebar-link">nodejs可以做什么？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#学习nodejs的必要性" class="sidebar-link">学习nodejs的必要性</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nodejs的特点" class="sidebar-link">nodejs的特点</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#node-js的下载及安装" class="sidebar-link">node.js的下载及安装</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#node-js初体验" class="sidebar-link">Node.js初体验</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#输出一个九九乘法表" class="sidebar-link">输出一个九九乘法表</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#不得不了解的js特性" class="sidebar-link">不得不了解的js特性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#单线程" class="sidebar-link">单线程</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#同步和异步" class="sidebar-link">同步和异步</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#事件机制" class="sidebar-link">事件机制</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#commonjs规范" class="sidebar-link">commonjs规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#为什么要学习commonjs规范" class="sidebar-link">为什么要学习commonjs规范</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是commonjs" class="sidebar-link">什么是commonjs</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#commonjs模块规范" class="sidebar-link">commonjs模块规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#模块发展史" class="sidebar-link">模块发展史</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nodejs常见模块" class="sidebar-link">nodejs常见模块</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#加载模块" class="sidebar-link">加载模块</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#npm" class="sidebar-link">NPM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#npm出现背景" class="sidebar-link">NPM出现背景</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#npm-运行方式" class="sidebar-link">NPM 运行方式</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#cmd窗口的使用" class="sidebar-link">CMD窗口的使用</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#npm命令" class="sidebar-link">NPM命令</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#命令行程序" class="sidebar-link">命令行程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是命令行程序" class="sidebar-link">什么是命令行程序</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#怎么创建命令行程序" class="sidebar-link">怎么创建命令行程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#文件系统" class="sidebar-link">文件系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#文件系统概述" class="sidebar-link">文件系统概述</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#读取文件" class="sidebar-link">读取文件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#覆盖式写文件" class="sidebar-link">覆盖式写文件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#追加式写文件" class="sidebar-link">追加式写文件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#删除文件" class="sidebar-link">删除文件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#判断文件是否存在" class="sidebar-link">判断文件是否存在</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#获取文件信息" class="sidebar-link">获取文件信息</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#创建目录" class="sidebar-link">创建目录</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#删除目录" class="sidebar-link">删除目录</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#读取目录" class="sidebar-link">读取目录</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#递归删除目录" class="sidebar-link">递归删除目录</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#node流" class="sidebar-link">node流</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#路径" class="sidebar-link">路径</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#使用node-js进行web开发" class="sidebar-link">使用Node.js进行web开发</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是http？" class="sidebar-link">什么是HTTP？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#http的构成" class="sidebar-link">http的构成</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#网络查看工具-network面板" class="sidebar-link">网络查看工具---network面板</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#http-请求" class="sidebar-link">HTTP 请求</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#http响应" class="sidebar-link">HTTP响应</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#进一步理解http" class="sidebar-link">进一步理解HTTP</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#server-对象" class="sidebar-link">Server 对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是server对象？" class="sidebar-link">什么是server对象？</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#如何创建" class="sidebar-link">如何创建</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#重要方法" class="sidebar-link">重要方法</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#重要事件" class="sidebar-link">重要事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#serverresponse对象" class="sidebar-link">ServerResponse对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#如何创建-2" class="sidebar-link">如何创建</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#重要属性和方法" class="sidebar-link">重要属性和方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#incommingmessage对象" class="sidebar-link">IncommingMessage对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#如何创建-3" class="sidebar-link">如何创建</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#重要属性和方法-2" class="sidebar-link">重要属性和方法</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#事件" class="sidebar-link">事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#url路由" class="sidebar-link">url路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是路由" class="sidebar-link">什么是路由</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#如何实现url路由" class="sidebar-link">如何实现url路由</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#解析查询字符串" class="sidebar-link">解析查询字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#如何解析" class="sidebar-link">如何解析</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#载入静态页面" class="sidebar-link">载入静态页面</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#post请求及响应" class="sidebar-link">post请求及响应</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#核心知识点" class="sidebar-link">核心知识点</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#clientrequest对象（爬虫）" class="sidebar-link">ClientRequest对象（爬虫）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#创建" class="sidebar-link">创建</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#属性和方法" class="sidebar-link">属性和方法</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#事件-2" class="sidebar-link">事件</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#node-dev" class="sidebar-link">node-dev</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#express" class="sidebar-link">Express</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#创建第一个express应用" class="sidebar-link">创建第一个Express应用</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#应用生成器" class="sidebar-link">应用生成器</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#路由" class="sidebar-link">路由</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#基本路由" class="sidebar-link">基本路由</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#路由方式" class="sidebar-link">路由方式</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#req对象" class="sidebar-link">req对象</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#res对象" class="sidebar-link">res对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#中间件" class="sidebar-link">中间件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#应用级中间件" class="sidebar-link">应用级中间件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#路由级中间件" class="sidebar-link">路由级中间件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#错误处理中间件-（了解）" class="sidebar-link">错误处理中间件 （了解）</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#内置中间件" class="sidebar-link">内置中间件</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#第三方中间件" class="sidebar-link">第三方中间件</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#会话机制" class="sidebar-link">会话机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#cookie" class="sidebar-link">Cookie</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#cookie基本操作" class="sidebar-link">Cookie基本操作</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#记录用户上次访问时间" class="sidebar-link">记录用户上次访问时间</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#关于cookie的具体操作" class="sidebar-link">关于cookie的具体操作</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#使用cookie完成登录控制" class="sidebar-link">使用cookie完成登录控制</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#session" class="sidebar-link">session</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#session的设置和获取" class="sidebar-link">session的设置和获取</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#销毁session" class="sidebar-link">销毁session</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#ejs" class="sidebar-link">ejs</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#数据库" class="sidebar-link">数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是数据库" class="sidebar-link">什么是数据库</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#数据库类型" class="sidebar-link">数据库类型</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#nosql" class="sidebar-link">NoSQL</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#什么是mongodb" class="sidebar-link">什么是Mongodb</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#mongodb快速入门" class="sidebar-link">Mongodb快速入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#安装mongodb" class="sidebar-link">安装Mongodb</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#mongo基本概念" class="sidebar-link">mongo基本概念</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#mongodb-shell" class="sidebar-link">MongoDB shell</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#入门命令" class="sidebar-link">入门命令</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#可视化工具" class="sidebar-link">可视化工具</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#基本数据类型" class="sidebar-link">基本数据类型</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#引用数据类型" class="sidebar-link">引用数据类型</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#mongodb增删改查（重点）" class="sidebar-link">MongoDB增删改查（重点）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#添加" class="sidebar-link">添加</a></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#查询" class="sidebar-link">查询</a></li></ul></li><li class="sidebar-sub-header"><a href="/notice/dist/outline/lesson5/1.html#更新" class="sidebar-link">更新</a></li></ul></li><li><a href="/notice/dist/outline/lesson5/2.html" class="sidebar-link">随堂案例</a></li><li><a href="/notice/dist/outline/lesson5/3.html" class="sidebar-link">课后作业</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="知识点-服务端开发"><a href="#知识点-服务端开发" aria-hidden="true" class="header-anchor">#</a> 知识点(服务端开发)</h1> <h2 id="课程引导"><a href="#课程引导" aria-hidden="true" class="header-anchor">#</a> 课程引导</h2> <h3 id="javascript可以用来做什么"><a href="#javascript可以用来做什么" aria-hidden="true" class="header-anchor">#</a> javaScript可以用来做什么</h3> <ol><li>最初，js被用来在浏览器端实现表单的验证。</li> <li>在浏览器端可以使用js操作dom实现各种各样的效果和动画。</li> <li>浏览器端的js可以处理数据，实现各种页面功能。</li> <li>可以使用JavaScript发出http请求，实现各种交互任务</li></ol> <p><strong>以上，是浏览器中js的功能。换句话说，就是JavaScript脱离了浏览器，上述功能也就不存在了。</strong></p> <p><strong>当然，浏览器也会对JavaScript有一些限制，比如一些常见的文件操作，系统接口的调用，数据库连接等等这些功能都无法实现</strong></p> <p>于是在2009年，Ryan正式推出了基于JavaScript语言和V8引擎的开源Web服务器项目，命名为Node.js。虽然名字很土，但是，Node第一次把JavaScript带入到后端服务器开发，加上世界上已经有无数的JavaScript开发人员，所以Node一下子就火了起来。</p> <p>正是因为node的出现，我们的JavaScript才可以脱离浏览器去运行，当然也没有了浏览器的一些限制了。同样的，在浏览器的部分功能也就不存在了，比如：操作dom！</p> <p><strong>那么运行在node上的JavaScript可以做什么呢？</strong></p> <ol><li>可以制作命令行工具（所谓命令行工具就是通过dos命令来操作的软件）</li> <li>可以做服务端的开发 （基于node可以开发服务器应用，就像php一样。。。）</li></ol> <h3 id="node的重要性"><a href="#node的重要性" aria-hidden="true" class="header-anchor">#</a> node的重要性</h3> <ol><li>它很火-从2009年nodejs诞生以来，社区为node提供的模块已经超过了15万个，并且在持续增长。而且每个月有维持在6亿多的下载量</li> <li>它很强-众多应用的开发都会使用到nodejs</li></ol> <p><img src="/notice/dist/assets/img/1.f6c67773.png" alt="强"></p> <h3 id="nodejs是什么"><a href="#nodejs是什么" aria-hidden="true" class="header-anchor">#</a> nodejs是什么</h3> <ol><li>nodejs是一款软件，就像qq一样，qq提供给我们的功能是交友，聊天。而node的功能就是去执行JavaScript程序。</li> <li>在使用方式上，会有一些区别，使用qq我们通过鼠标的点击就可以操作了。但是node是通过命令行去操作的。</li></ol> <p><strong>所以，nodejs其实就是为JavaScript提供运行环境的一款软件（windows版本，linux版本，mac版本）</strong></p> <h2 id="了解web架构"><a href="#了解web架构" aria-hidden="true" class="header-anchor">#</a> 了解web架构</h2> <h3 id="什么是web？"><a href="#什么是web？" aria-hidden="true" class="header-anchor">#</a> 什么是web？</h3> <p>web就是我们常见的www（world wide web），中文名字叫万维网。</p> <p>所以万维网跟我们所学习的html，css，js有什么关系呢？</p> <p><img src="data:image/png;base64,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" alt="万维网"></p> <p>总结一下：</p> <ul><li>web就是www，万维网</li> <li>www（web）是互联网的一个方面。</li> <li>www是由网站构成的，网站又有网页构成的，网页又分为html、css和js</li></ul> <h3 id="web由哪些构成？"><a href="#web由哪些构成？" aria-hidden="true" class="header-anchor">#</a> web由哪些构成？</h3> <p>所谓的网站，就是一种服务。
我们可以把web看成是由两个部分组成的</p> <ul><li>服务端</li> <li>浏览器端</li></ul> <p>看下图：
<img src="/notice/dist/assets/img/5.a9a4dee8.png" alt="bs"></p> <p>这种架构，就称之为B/S架构。</p> <p>所谓的Server，就是性能比较强悍、价格比较昂贵的计算机，在计算器中安装了相应的一些软件，运行这些软件，为用户提供相应的服务。
针对真实的server，一般来说，不需要显示器，并且是长期运行的。</p> <p>常见的服务器如下图：</p> <p><img src="/notice/dist/assets/img/6.00488df2.png" alt="server"></p> <p>B/S和C/S是相对的。
在软件开发领域中，就存在两种架构：</p> <ul><li>C/S架构，Client/Server，传统的软件形式，需要在用户的计算机中安装一个客户端软件，然后才可以去使用这个服务，比如qq、杀毒软件、游戏、办公软件</li> <li>B/S架构，Browser/Server，就是现在所有的webapp，通过浏览器来访问的</li></ul> <p>对比一下这两种架构</p> <table><thead><tr><th>√</th> <th>C/S</th> <th>B/S</th></tr></thead> <tbody><tr><td>使用层面</td> <td>需要安装特定的客户端软件</td> <td>只需要有浏览器即可</td></tr> <tr><td>维护更新</td> <td>客户端软件需要重新下载安装</td> <td>打开浏览器永远都是最新的</td></tr> <tr><td>用户体验</td> <td>更为流畅，反应更迅速</td> <td>不流畅，经常卡顿</td></tr> <tr><td>性能</td> <td>性能优  胖客户端/瘦服务端</td> <td>性能稍弱  瘦客户端/胖服务端</td></tr></tbody></table> <p>随着互联网的发展，主要有两个方面</p> <ul><li>带宽的增加</li> <li>开发技术的创新</li></ul> <p>未来的趋势就是B/S架构。
所以，有越来越多的软件，逐渐的从C/S模式开始转变为B/S模式。</p> <p>其实，移动端也是这种趋势。</p> <ul><li>原生的app应用，就好比是C/S模式</li> <li>基于h5的webapp，就好比是B/S模式</li></ul> <h3 id="web如何为用户提供服务的？（重点）"><a href="#web如何为用户提供服务的？（重点）" aria-hidden="true" class="header-anchor">#</a> web如何为用户提供服务的？（重点）</h3> <p>作为一名web开发人员，必须要搞清楚这个流程。
请问：</p> <ol><li>淘宝网站是如何为用户提供服务的?</li> <li>在百度中输入搜索关键字，然后返回了页面，这中间发生了哪些动人的故事?</li></ol> <p>大致的流程如下：</p> <p><img src="/notice/dist/assets/img/7.76191f7d.png" alt="服务流程图"></p> <p>整个流程包括三个方面：</p> <ul><li>浏览器端：html、css和js</li> <li>服务端：web服务器、后端语言、数据库</li> <li>浏览器端和服务端端通信：HTTP</li></ul> <p>其中，需要注意，我们说的浏览器端，是指浏览器会获取从服务器端返回的html、css和js，然后进行解析的。</p> <p>转变一个思维：我们平常开发的静态页面和app，最终是需要放到服务器端，然后用户在访问的时候，会将这些页面的html、css和js下载到自己的浏览器的内存中，然后进行解析渲染。</p> <p>返回的过程，可以通过network面板来进行查看。</p> <h2 id="nodejs快速入门"><a href="#nodejs快速入门" aria-hidden="true" class="header-anchor">#</a> nodejs快速入门</h2> <h3 id="再谈客户端javascript"><a href="#再谈客户端javascript" aria-hidden="true" class="header-anchor">#</a> 再谈客户端JavaScript</h3> <p>有如下几个问题：</p> <ul><li>什么是JavaScript？</li> <li>JavaScript的运行环境是？</li> <li>浏览器中的JavaScript 可以做什么？</li> <li>浏览器中的JavaScript 不可以做什么？</li> <li>JavaScript只可以运行在浏览器中吗？</li> <li>编程语言的能力取决于什么？</li></ul> <ol><li><p>什么是JavaScript？
Javascript是一门运行在浏览器端的脚本语言。
两大方面：</p> <ul><li>在浏览器端运行的（还有在服务端运行的，比如php）</li> <li>脚本语言，嵌入到其他的语言中（插入到html中）</li></ul></li> <li><p>JavaScript的运行环境是？
就是浏览器。</p></li> <li><p>浏览器中的JavaScript 可以做什么？
在浏览器端，主要是使用js来实现DOM操作。</p> <ul><li>表单验证</li> <li>实现一些特性和动画</li> <li>更好的组织页面的结构（tab选项卡、轮播图）</li> <li>可以使用ajax来提升用户体验</li> <li>页游</li></ul></li> <li><p>浏览器中的JavaScript 不可以做什么？
作为一门编程语言，js和其他语言相比，它不能干什么？
其他语言，比如c、c++、c#、java、php等
js不能做的事情如下：</p> <ul><li>文件操作</li> <li>网络编程</li> <li>os相关操作</li> <li>数据库操作</li> <li>...</li></ul></li></ol> <p>所以，我们发现，作为一门编程，居然有很多事情都不能做？
所以，这正是过去js被人鄙视的原因。认为就是js是一门玩具式的语言。</p> <ol start="5"><li>JavaScript只可以运行在浏览器中吗？
在09年以前，基本上只能在浏览器中运行的。
但是09年之后，情况发生了变化。</li></ol> <p>Javascript除了在浏览器中运行，它还可以在其他环境运行，比如服务端。</p> <ol start="6"><li>编程语言的能力取决于什么？
其实，各门语言的功能大同小异，基本都具备下面这些内容：
<ul><li>变量和常量</li> <li>数据类型</li> <li>表达式</li> <li>语句（顺序、分支、循环）</li> <li>函数</li> <li>类和对象</li> <li>继承</li></ul></li></ol> <p>编程语言的能力取决于它所运行的环境（平台）。
舞台有多大，人的潜力就有多大。</p> <p>不同的语言，有不同的运行环境。
Java最强，因为有虚拟机，就可以在任何操行系统上执行。
C#局限性有点强，因为它只能运行在windows操作系统的.net环境中
C，可以在任何os中运行。</p> <p>Js也不例外，过去之所以弱，就是由于它的运行环境很单一，只是浏览器。
但是现在不一样了，在服务端环境中也可以执行的。</p> <p>自此，js是大放异彩。
如果说有一门语言，会统治服务端开发、浏览器端开发、app开发，这门语言一定是js</p> <h3 id="什么是node-js？"><a href="#什么是node-js？" aria-hidden="true" class="header-anchor">#</a> 什么是node.js？</h3> <p>官网：https://nodejs.org/en/</p> <p>Node.js® is a JavaScript runtime built on Chrome's V8 JavaScript engine. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient. Node.js' package ecosystem, npm, is the largest ecosystem of open source libraries in the world.</p> <p>中文网站：http://nodejs.cn/</p> <ul><li>Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。</li> <li>Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。</li> <li>Node.js 的包管理器 npm，是全球最大的开源库生态系统。</li></ul> <p>记住一点：node.js其实一个运行环境，和浏览器是同等地位。
并且，node.js这个运行环境是基于chrome v8引擎的，说明在浏览器端写的那些和浏览器环境无关的代码，在node.js中，也是同样支持的。</p> <p>有很多初学者认为：node.js是一门语言，这是极其错误的。</p> <p><strong>node.js和javascript到底是什么关系呢？</strong></p> <p>回顾js的历史：</p> <ul><li><p>94年，livescript</p></li> <li><p>95年，javascript</p></li> <li><p>后来交给了一个机构----ECMA，其实将js进行了标准化---ECMAScript规范</p></li> <li><p>1999年-2009年叫 ECMAScript3.0</p></li> <li><p>2009年-2015年叫 ECMAScript5.0</p></li> <li><p>16年至今叫 ECMAScript 6</p></li></ul> <p>所以，过去js有两个名称：</p> <ul><li>ECMAScript版本号 （官方）</li> <li>Javascript（民间）</li></ul> <p>以前，两种叫法没啥区别。都是在浏览器端来执行的脚本语言。
但是，随着node.js的出现，其实ECMAScript 和 javascript是有区别的，
ECMAScript才是语言本身。</p> <p><img src="/notice/dist/assets/img/8.9be76243.png" alt="js"></p> <h3 id="nodejs可以做什么？"><a href="#nodejs可以做什么？" aria-hidden="true" class="header-anchor">#</a> nodejs可以做什么？</h3> <p>使用Node.js可以轻松的进行服务器端应用开发，PHP、Python、Ruby能做的事情Node.js几乎都能做，而且在某些方面可以做的更好。</p> <p>世界上70%以上的网站都是使用php来做的。
世界上100%的网站都使用了js。</p> <p>具体来说，体现在两个方面：</p> <ul><li>webapp（网站）</li> <li>命令行（包括命令行工具和交互式终端程序）</li></ul> <p>其中，我们的重点是放在webapp上面。
越来越多的网站，都开始大面积的使用node.js</p> <ul><li>阿里（天猫）</li> <li>uber</li> <li>Yahoo</li> <li>Paypal</li> <li>Group on</li></ul> <p>既然已经有了PHP等后台语言，为何还需要Node.js？</p> <ul><li>io密集型 --- 异步io操作</li> <li>实时web应用 ---- socket.io</li></ul> <p>io是指input/output，输入和输出，文件操作。
实时web应用：双十一、12306、游戏、在线客服/咨询</p> <p>大家需要明白，一个大型的软件，通常是结合各种技术来实现的，并不会使用单一的技术。
比如，阿里用到了php、java、c++、node.js这几种语言，数据库就使用了mysql、oracle、mongodb、redis等数据库。</p> <h3 id="学习nodejs的必要性"><a href="#学习nodejs的必要性" aria-hidden="true" class="header-anchor">#</a> 学习nodejs的必要性</h3> <ul><li>高薪资</li> <li>企业的需求</li> <li>更好的理解js语言</li> <li>紧跟潮流</li></ul> <p>Node.JS超越jQuery成为Github上第二受欢迎的开源项目
GitHub公布10大热门编程语言：Javascript居首</p> <p>https://www.npmjs.com/enterprise</p> <p>下图是nodejs的下载量：
<img src="/notice/dist/assets/img/9.c496d7c4.png" alt="下载量"></p> <h3 id="nodejs的特点"><a href="#nodejs的特点" aria-hidden="true" class="header-anchor">#</a> nodejs的特点</h3> <ul><li>单线程</li> <li>异步式I/O</li> <li>事件驱动机制</li> <li>跨平台</li></ul> <p>其实，这些特点是js本身的，只不过在node.js中表现尤为突出。</p> <h3 id="node-js的下载及安装"><a href="#node-js的下载及安装" aria-hidden="true" class="header-anchor">#</a> node.js的下载及安装</h3> <ol><li>下载</li></ol> <p>官网下载地址：https://nodejs.org/en/download/
中文下载地址：http://nodejs.cn/download/</p> <p>LTS：Long Term Support，长效版，长期支持的版本，通常是3年。</p> <p><img src="/notice/dist/assets/img/10.2b338884.png" alt="node下载"></p> <ol start="2"><li>安装</li></ol> <p>以windows操作系统为例
是一个典型的windows应用程序的安装，和qq是一样的。
主要有两点：</p> <ul><li>装在哪儿</li> <li>怎么装，有何细节</li></ul> <p>爱装哪儿装哪儿，建议使用默认的安装路径，放在c盘。
安装的时候，一路next下去，不用做任何的额外设置，装完即可。</p> <p>安装过程，略过....
安装完成之后，可以查看其版本号：</p> <p><img src="data:image/png;base64,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" alt="版本号"></p> <p>如果没有看到这个结果，说明安装失败了，重新安装即可。</p> <h3 id="node-js初体验"><a href="#node-js初体验" aria-hidden="true" class="header-anchor">#</a> Node.js初体验</h3> <p>现在，就可以编写服务端的js代码了</p> <h4 id="repl环境及hello，world程序"><a href="#repl环境及hello，world程序" aria-hidden="true" class="header-anchor">#</a> REPL环境及Hello，world程序</h4> <p>所谓的REPL，就是指 交互式解释器环境，read-eval-print-loop
交互式解释器会读取输入内容并对它求值,再返回结果并输出，然后重复此过程。</p> <p>浏览器的console控制台，就是一个简单的REPL环境。</p> <p><img src="/notice/dist/assets/img/12.3c5686b2.png" alt="console"></p> <p>实际上，很多的软件/工具，都提供了这个REPL环境。
Node.js也提供了这么一个REPL环境。</p> <p>在cmd窗口中，输入node，按下回车，就进入了一个REPL环境，如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlIAAAERCAIAAAFInu7tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABUlSURBVHhe7d3LiyXXeQDwAS2EtBgkgSENHmUYC4LVMIJRbMgIaRFPFoE72sgmi7F29iyijpVNJMejyB5Cgloi2djgB8YEkSbJ1ovYEhgaAomF443BkQjMwgjs+QOCvc1XdepW161b3XP7efrc8/tRzNTzPO6pr75bfV8X7t27t7O7G9P27EKI/5v/Wtu7u91c0e7evdvNrSs9PITfvXX9xc0nuoUlsbWbO2P379/f7Gb3pAjcDduzFJ/7OXjruTDq4ebWTvybethfabZ2dmOf2fbChWdrflhcpWJ2NERxSJqJrWkmm+hhN3cSop93blzqFuaev3Ix1j/2yEPd8hk72R6eR3pYPj0snx5y/jlLKcHL3f/rShyWTw/Lp4fl08Py6WH59LB8elg+PSzfs9/67fKra2FyZXmie93cWtK9VR3w8vUHrz7z9uxyt3CW+u6NXqM+1EvW//NX17q5RaP3qGR4+X44esMXruPS0r+rJjn4Bep+azokFuP/0SGZu3dM79/enOzAh69dy9CxJLrXv4FgDZ3g6J1Hulcy3SuZ7pVM90qmeyXTvZLpXsl0r2S6VzLdK5nulUz3SqZ7Jbt///6a93C93b171/gV7JyP33vty6L99P7tzZjeuHEpppj54NVnhltvPr3vR9fX1nkbvxiGGLNu4RiinG5uvaX813yLwW7zkf/OrPmikd3d7Zi2Ni/sbG0233LQvN2he2Rn27vtVwS0i+3O/Qv1u9uz2Ll9s0XzXol0bNqUNN8Y0B7SaGfStw2EeNAPOLZtwl6927Pmyxf6Y5d9+6VPdXNrbL/nL9vD4XyQQ+08eNNMY/nYGMUPX5t+R9Aqnnz84Shh+dsV1lMav4PffZTd1Y1HI+HFqCxPkQW3ntvo9qtQF3/9BY2yuP8rm/Erm/Erm/Erm/Erm/Erm/Erm/Erm/ErnvErmPgrm/Erm/Erm/Erm/Erm/Er28vuH4om/spm/Mpm/Mpm/Mpm/Mpm/Mpm/Mpm/Mpm/Mr2i1/8Iv7d+27WqTfS7w5+93idvxC0OPfu3evmKI7BK5jBK5jBK9h5HrybTz8x/GzmB68+M/y2gpiGW0/kY/KFOYeD9/bschqqbnllL252g90tr73zNngn8tCnLxjpFtZYDN7SrdtB15/Br3WkLxzYd+fRr4xMGR/bP+LDY4/8Gfz9fv5kfaTBG34XR+i+ByJu2Gfb/bdwtF/Z0ezabJl/ZUeaD6t+g0f7R4BUVLPUrkvfKxI7f/ulZ2Nx+dho4epfQtJb/+CbirwuvLZ3d2Kshid+jM/Czu1I9LEYm9LOaUhGx3bmf8FJj/jo2Hi4J45tD0n1plCNoyZKXlTLZbObOxP9aO3nTvs1IE8+/nC3fHg5f1DojJ23JyzJY488FAMQU4zE81cudmv3l4Y8prh/6FbV4HwO3sjWcxuju7p+inu+qxuPdvvVpojBY1oavOGP81EMkVcwg1cwg1cwg1cwg1cwg1cwg1cwg1cwg1cwg1cwg1cwgwc5iLyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGbyCGTzIQeRBDiKvYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYAavYPfv34/xS7/ZvLnV/AxMWh8Lu3Pt0s7yN8APfwg49ItLOzc/9xN2tmr6xQo42N27d/vYA86O2IM8xB7kIfZOytWNR1+5vnHnxqX0m9ErTrFzHBIH1vtrgNUSe4fy2CMPjULro9evvXHj0gsr/ErqA0UhUVQUOCw/qotKuz1YJ2Lvgb72uU+mMIioOM5PSh9ZVNoHZDSmW0vp+tcYmtcX5rptA+kX51e0vVRCKrxbaMWa9IrDoUruLVexr9n25Esbq9SbTvduoTVZ794LM4dxiC4sWm4VRRrG3sGvvm2vfIaNzqqIuzQz2+6qGMXh6iX3jnziDh1cb5zf337pU93C3AH1HrZJx+lCNEz4FW/12Au7O1tpJsIpAikOSeE0SJnNYn9WxUwsxsq02O+cFpvX4OcpqS+5b0aaGR4b+/aLqYpRvdP6vNe+W2D0BoG+3tiUZpJY/PC15mneYeqdpe6cfBeWRMP+6y+udgsUavI5Z3eCxsk6fjPLZrei2zSbv5clZpImk8RZ1enO7MX3tSy+Y2auKzma0S72Z/C85FRUnL9zzeJivZNvvtmLvb1jh+lu0KPOQo/iLI/px1+9mRbDcGtf77Da43ThYD/+cvdnnm6Zog3fU8YB3rl5OZ33Mf30K8/cfPqJbsOpiSqior7SaEC3gfXQx94q112GXtx84v39X8qLsHnv9maa7ty41E/9ymFcjaYoNgrvqmFdjfJeugkBTt3Sc87uDwbA6epjb/QHA+B0+VsL5CH2IA+xB3mIPchD7EEeYg/yEHuQh9iDPMQe5CH2IA+xB3mIPchD7EEeYg/yEHuQh9iDbMQe5CH2IA+xB3mIPcjA31ogD7EHeYg9yEPsQR5iD/IQe5CH2IM8xB7kIfYgD7EHeYg9yEPsQR5/+5kLPxF7cPbEHuThOSfkIfYgD7EHeYg9yEPsQR5iD/IQe5CH2IM8xB7kIfYgD7EHeYg9yEPsQR5iD/IQe5CH2IM8xB7kIfYgj48++uhnP/tZM7e5tT27sLuzleZ3tjabmQsXdnd308zIbHt31s02RosDm12ZF2Z9mcCFjz/++Je//GWajzDro2MnFloRkCFm2tV7Doi90c5b87K6ZSAMYw84O2IP8hB7kIfYgzzEHuQh9iAPsQd5iL2T8vyVi3duXHrv9uaHr1373VvXV5liz9g/jopju1Koh9g7msceeejt2eVRLA2n929vpumNG5eGU79+tP9wipKj/K4m1pXYO5RXrm+M4iSi6IvPfqLbfDxRznJMRo3dZtaM2FvF1Y1Hf/3mZ/t4eOfmqeelKD9q6WuM2qMN3TbWg9g7WMRAHwBxY9atPVtRb98Gz0XXh9g7wHde+lQ6489Dzok2pMZEq7pVFG0ee5vdZw1C+uTCgs3DfPxn+bNCbeELxcaanTRzpA8WzaYaOW1e0ciD602B993PP9UtN6bqnW0fpQeH6cJQtEf4rYm92Os+ZTdta2f1TwCNYy/irvlvtt2fbNuDzxMdpuTeEU/coQfWuxR4YZ96248+HtLRu5DCr1ugXCvGXpwrK1/dF2Nv+DHcVMVsezE4Vy+5dwKxd3C9f37996bO7wPqPewng4/VhWhbtLBboFDLzzn3O4XiWWOaiWiKsyb2bP9tntHFfPw7206n0ywtRmJpihqku1RCOrD5QO18Q19yakZbRldWX1TaNy1G2hxune87rX/OmXYeXApiTV/vuKgP/+Xv4vw+ZL2b7fLJd2GZ2FsHK+e95qztTtr2KdbO1iz+bY7a3IoTqNMU0meAWbM4jL125/7cj+hLM3sl7zWjnRlkyCaE9hbbpDGud1ofe+2n5/eCLezVO0rF7WKc33FbtXq98yfSJ9+FkXQj2i1QrtVjL/QX593t5g8Muzs7zYo4gebrW/2zqTTTl9zG5CD24nxLM2F+SEod7UwcNSi5CZv+2LR+XO+0PvY6i2HWlbDXqr16023Vr77/Z6vUO+jLyXdhaOovQJRp+Tlnnxz6vNSLJ05pJm2KK306cZpnUK32vGqecybpdG6eXrbapfE3wSTzkhdP3EHJqahuIbS7LdY7DIA9feylPUMXZa1hj5Jhj371/a040WP6+Q9/0K7Yr95hOj1WFw7w/JWLqTECb03MY29FR/i7yIpOq+TFwFj2gHqHr61/7XOf7Naerai3b4PX1tfHIWOvUlc3Hv3N1/feU3YG73WO8ofv1Y7avads3Yi9Q9l6bvxe6vdub966djLvpY5yorRR+VFjt5k108XeEd+cUa/IS8P3Oi9PEUVpunPj0nDq14/2H05n8F5t8tvLe0d5cwZ7XrhyMX0876PXV/3sbOwZ+8dRcWxXCvVYfM552DdnAEe1dL/X/4kcOE2j2NueeokMOHnD2NsVeHBm+th70GvQwIlaut8DzoTYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIPgJrIe5CH2IM8xB7kIfYgD7EHeYg9yEPsQR5iD/K49a7YgxzkPchD3oM8xB7kIfYgjyb2fvTVbgE4M/Ie5PGuv3NCFl5jgDzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8vj43VvdHHCm/vAb8h7kcOtdsQc5yHuQhfs9yMPfOSEPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHmIP8hB7kIfYgzzEHuQh9iAPsQd5iD3IQ+xBHvfv34/wu3fvXkTgs9/6bbf2wubWzu7u9vb27u7O1ma3rtGuX1iX1mzPusWVzKLc/Q85eOukUbPaEhYbDgBhn7Q3leAG2rzSmsqKD0xZR0h7K5XcNUvCA2AfkSWm0x4ArJ+7d+9KewDUQtoDoCLSHgAVkfYAqIi0B0BFpD3KcnXj0eevXBxNr1zfuHPj0vIU60d7xhQldGUBFZL2yOvJxx+++fQTkaL+9Yt/8NOvPPO7t66fhylaEu2JVkXbooVdW4E1IO1xNuI26+3Z5VUS20evX3v/9uY7Ny+/cePS1nMbL1y5GNNp5J4oMxUetURdUWPUG7WP2rM8RS+iL9GjriCgINIepyFukuJuaZQt+imyS6SZyDfd3iWI1kabo+Wjvvzf3/9Rmon+Rq+7vYFzS9rjRMSd03c//1SfDPrpvdubX3z2E4898lC333qJfkXvoo+jXscUj4a/jsJ5JO1xHK9c3/j1m58dXu6/94Wnav7rX/Q9HoHhAxKPTzxK3WYgu29+85vSHkfw7196ur+yf/T6tdmnH+82MBePyfCVwnjEug1ARku/wJB+6mDJij8E1PwGwoq7HkpT7oE/rLD34wvd3FQrpn/G4bTavKxt2olX9cDHZuTY/Y0bmv5SfuvaJ7q1Ew7T39N5bKacXU29eJT6R8wbYSCz6bR3jJ/uaY4/+V/+OfjS3l7IFjZPXNqWd+qdTpuXZbjgTjpOf3//8YfT5fs3X//sg16xO3x/j3v2rSLPKMRjFY9YeujiMezWAmfviGmv3Wu/a0dcV5YKGBSbjh3M9zunLb1BIc2lamdrq7lgze1tnbqOLa5rlwYGJXem2hzaFm3PFhu2UNWozYvNGB3X/GzvcI/9+3sY6bFZPHTU4ZX72zi4Vf/413+Zrt3/+89vxtbT6W/b/L0D2+PO+Sis4Kt//Mn00MVMtwo4eyd+t9dqClm89OxdndttcemZz3c7jq50YbimnR+2Kl2r9ju02z7YvNijduuok227FguZV7NUcbdiueTBmnTosMR243zNcqOX16ymOW6hEVO9WzbZ34Nb1cz/5z99OV27f/1m3O39abP1VPo7PDgVPezRsIvtngvdHaw54VYdXdzt9e/9cbcHOZ1O2gtx+RiV0pS8szWLf+Oq0m5u5rtLzAOqbS5Gi1sHB0wcO946vo5NVzfd5sWDB0e2V8jRAXvrJra2q1bq72E0pU6U1FY2N11T7DLRwH1bNd86fG3v7bf+oTti4th21WH7u/yQFzEKB3rl+kb/iHltDzI7tbSXLi/L16r5Jadb6GtKy4OK04qugPZSNdg62nu0uHitWyp5segF4za3ey53oitsqeTUzIU27x2clucrlo7dv1EP0JQ77N3SimGTR5pdh1Ue3KqFrT/60t6H1T587drs039yzP62Kyab2W4ZNnNh36WSU8Xd/gsL4bCtOo7Zpx+PR6Z/lOIR6zYAGU2nvQmLV4LVrg7NXgvXseaaM1/RFrFUwl71C5vmB3YXrcVSe93WAzeG6e2dxTYvN7Jds1hC3+apx2PY4nZ+cad9+tutnypwSVPqcpf2Cj5Mfzv9wZOH9lujeVvPbfTv1EjTf39/6+c//MHh+tusPaCv7UEL29s1i40btmrJEUfhCOJmbvSx/Xh84lHqNgPZLaW9E9ZcY459KTljBbR57zrdmExOqzuR/j75+MOjj2mn6cdf3rx1bZ2/pSV6F30c9TqmeDR8SwucR6ed9qjTi5tP/NvL+34n53u3N+/cuFTWq1zR2mjzAV+lHf2NXnd7A+eWtMfZeOHKxXduXv7g1Qf/AsOHr12LvPj27HKkmZQdYzqNO6coMxWeKooao97hq3H7TdGL4r5KG+hMpL2J1z7gtETuST9uEHdLqyTFs5miJd/7wlMpt/lbJayVfe/2Jt40APld3Xg0UtFoSj+Ytzz1P9c3nPy6OlTtQX/kdOsHwBpZ4bW9NvNJfQCsgYPSXvt3TukOgPUxmfa8rgfAehqnvSbjucEDYE2t8NoeAKwLaQ+Aikh7AFRE2gOgItIeABWR9gCoiLQHQEWkPQAqIu0BUBFpD4CKSHsAVETaA6Ai0h4AFZH2AKiItAdARaQ9ACoi7QFQEWkPgIpIewBUStoDYM252wOgItIeABWR9gCoiLQHQEWkPQAqIu0BUBFpD4CKSHsAVETaA6Ai0h4AFZH2AKiItAdAXW69K+0BUAd3ewDUxd0eABWZp73vSHsArD93ewBURNoDoCLSHgD1+Mw3/kPaA6AOL+/4AAMA1fC5PQAqIu0BUBFpD4CKSHsAVETaA6Ai0h4AFZH2AKiItAdARaQ9ACoi7QFQEWkPgIpIewBURNoDoCLSHgAVkfYAqIi0B0BFpD0AKiLtAVARaQ+Aikh7AFRE2gOgItIeABWR9gCoyP2dl+Pfa3/zE2kPgPXXJL1b77rbA6AK0h4AFfFHTgAq4i0tAFRE2gOgItIeABWR9gCoiLQHQEWkPQAqIu0BUBFpD4CKSHsAVETaA6Ai0h4AFZH2AKiItAdARaQ9ACoi7QFQEWkPgIpIewBURNoDoCLSHgAVkfYAqIi0B0BFpD0AKiLtAVARaQ+Aikh7AFRE2gOgItIeABWR9gCoiLQHQEWkPQAqIu0BUBFpD4CKSHsAVETaA6Ai0h4AFZH2AKjFhQv/D1fD8e7m8sX9AAAAAElFTkSuQmCC" alt="repl"></p> <p>在这个REPL环境中，可以编写任何服务端的js代码，并执行。</p> <p><img src="data:image/png;base64,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" alt="aaa"></p> <p>这个过程，和在浏览器控制台的REPL环境中，是一模一样的。</p> <p><img src="/notice/dist/assets/img/15.7928dcdd.png" alt="browser"></p> <p>再来看一个代码</p> <p><img src="/notice/dist/assets/img/16.e90f0f91.png" alt="a"></p> <p>在node环境中</p> <p><img src="/notice/dist/assets/img/17.f8614a57.png" alt></p> <p>说明还是有区别的。
Node.js和浏览器都是js的运行环境，可以执行ecmascript代码。但是，两个平台有各自的api，浏览器有DOM和BOM，node.js没有这些，node.js有path、http、url、os等，浏览器是没有这些的。</p> <p>alert是window对象的方法，window对象是BOM对象中的。它只能在浏览器环境中存在，在node.js环境中是不可访问的。</p> <p>而console是指控制台对象，在浏览器和node.js中均有实现，都可以使用。</p> <p>要退出REPL环境，只需要按ctrl+c两次。</p> <h3 id="输出一个九九乘法表"><a href="#输出一个九九乘法表" aria-hidden="true" class="header-anchor">#</a> 输出一个九九乘法表</h3> <p>这个程序，是纯粹的js代码，可以在多个环境中执行。
由于这个代码比较长，不适合直接在REPL环境中来编写。</p> <p>可以使用编辑器，创建文件并编写，编写完之后再执行。</p> <h2 id="不得不了解的js特性"><a href="#不得不了解的js特性" aria-hidden="true" class="header-anchor">#</a> 不得不了解的js特性</h2> <h3 id="单线程"><a href="#单线程" aria-hidden="true" class="header-anchor">#</a> 单线程</h3> <p>所谓&quot;单线程&quot;，就是指一次只能完成一件任务。如果有多个任务，就必须排队，前面一个任务完成，再执行后面一个任务，以此类推。</p> <p><img src="/notice/dist/assets/img/18.7c5b3f05.png" alt="image"></p> <h3 id="同步和异步"><a href="#同步和异步" aria-hidden="true" class="header-anchor">#</a> 同步和异步</h3> <p>单线程特点是固定的，无法改变。
针对单线程的缺点，为了解决单线程的排队问题，Javascript语言将任务的执行模式分成两种：</p> <ol><li>同步（Synchronous）</li> <li>异步（Asynchronous）</li></ol> <h4 id="同步"><a href="#同步" aria-hidden="true" class="header-anchor">#</a> 同步</h4> <p>&quot;同步模式&quot;中，后一个任务等待前一个任务结束，然后再执行，程序的执行顺序与任务的排列顺序（代码的书写顺序）是一致的、同步的</p> <p><img src="/notice/dist/assets/img/19.2b1d86bf.png" alt="image"></p> <p><img src="data:image/png;base64,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" alt="image"></p> <h4 id="异步"><a href="#异步" aria-hidden="true" class="header-anchor">#</a> 异步</h4> <p>&quot;异步模式&quot;则完全不同，每一个任务有一个或多个回调函数（callback），前一个任务结束后，不是执行后一个任务，而是执行回调函数，后一个任务则是不等前一个任务结束就执行，所以程序的执行顺序与任务的排列顺序（代码书写顺序）是不一致的、异步的。</p> <p><img src="/notice/dist/assets/img/21.df418620.png" alt="image"></p> <p>异步代码的实现，在js中，主要体现在如下两个方面:</p> <ol><li>回调函数</li> <li>事件</li></ol> <h5 id="回调函数"><a href="#回调函数" aria-hidden="true" class="header-anchor">#</a> 回调函数</h5> <blockquote><p>什么是回调函数？ callback</p></blockquote> <p>将某个函数，作为另外一个函数的参数。作为参数的那个函数就是回调函数。</p> <p>你有事去隔壁寝室找同学，发现人不在，你怎么办呢？</p> <ul><li>每隔几分钟再去趟隔壁寝室，看人在不  --&gt;轮询</li> <li>拜托他室友，看到他回来时叫一下你 --&gt;回调</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'task2'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>不是所有的回调函数都是异步操作</strong> <img src="/notice/dist/assets/img/22.64df43b0.png" alt="image"></p> <p>所以，某个带有回调的函数，是否是异步，取决于这个函数本身，不取决于回调函数（参数）。
比如，刚才的这个f1，就不是异步函数，而setTimeout就是异步函数</p> <p>在浏览器端的js中，常见的异步函数有：</p> <ul><li>setTimeout和setInterval</li> <li>异步请求（XHR+axios）</li></ul> <blockquote><p>在node.js中，所有的文件操作，都有异步实现。所以，在node.js，异步是基础。</p></blockquote> <h2 id="事件机制"><a href="#事件机制" aria-hidden="true" class="header-anchor">#</a> 事件机制</h2> <p>解决同步等待的另一种思路是采用事件驱动模式。</p> <p>换言之，事件机制是异步的另外一种实现（体现）。</p> <p>任务的执行不取决于代码的顺序，而取决于某个事件是否发生。</p> <h2 id="commonjs规范"><a href="#commonjs规范" aria-hidden="true" class="header-anchor">#</a> commonjs规范</h2> <h3 id="为什么要学习commonjs规范"><a href="#为什么要学习commonjs规范" aria-hidden="true" class="header-anchor">#</a> 为什么要学习commonjs规范</h3> <ul><li>因为commonjs规范被nodejs所使用，所以我们在学习nodejs之前，必须要对commonjs有一个清楚的了解</li> <li>弥补JavaScript没有标准的缺陷，已达到像Python和Java那样具备开发大型应用的基础能力，而不是停留在开发浏览器端小脚本程序的阶段</li></ul> <h3 id="什么是commonjs"><a href="#什么是commonjs" aria-hidden="true" class="header-anchor">#</a> 什么是commonjs</h3> <ul><li>commonJS就是为JS的模块来制定规范，因为js没有模块的功能所以CommonJS应运而生，它希望js可以在任何地方运行，不只是浏览器中。</li> <li>commonjs用来规范服务器端的js脚本</li></ul> <h2 id="commonjs模块规范"><a href="#commonjs模块规范" aria-hidden="true" class="header-anchor">#</a> commonjs模块规范</h2> <h3 id="模块发展史"><a href="#模块发展史" aria-hidden="true" class="header-anchor">#</a> 模块发展史</h3> <ul><li>萌芽时代，使用的编程技巧 自执行函数</li> <li>09年Node.js在出现，实现了commonjs规范</li> <li>三大派系之保守派，遵循了commonjs规范，提出了browserify工具</li> <li>三大派系之革新派，提出了AMD规范，推出了require.js</li> <li>三大派系之中立派，提出了CMD规范，推出了sea.js</li></ul> <p><strong>AMD规范和CMD规范只能用在浏览器中，commonjs规范用于服务端</strong></p> <h3 id="nodejs常见模块"><a href="#nodejs常见模块" aria-hidden="true" class="header-anchor">#</a> nodejs常见模块</h3> <blockquote><p>核心模块（系统模块）</p></blockquote> <p>系统模块在源代码中已经编译了,以二进制文件存在,模块引入时可以直接加到内存。</p> <p>对比一下，好比是浏览器执行环境，自动提供了BOM和DOM对象。</p> <p>Node.js作为js的服务端执行环境，自动提供了一些对象，这些对象以模块的形式来存在的。</p> <p>只要安装好node，就自然有这些核心模块。</p> <p>核心模块，可以参考手册 <a href="http://nodejs.cn/api/" target="_blank" rel="noopener noreferrer">API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>常见的核心模块有：</p> <ul><li>fs模块</li> <li>http模块/https模块</li> <li>path模块</li> <li>querystring模块</li> <li>url模块</li> <li>net模块</li></ul> <blockquote><p>用户模块</p></blockquote> <p>所有非核心的模块，都是用户模块。
针对用户模块，又分成两种：</p> <ul><li>自定义模块，自己开发项目时定义的模块，自己定义自己用</li> <li>第三方模块，第三方人士开源的自定义模块，需要使用npm来安装，然后引入使用</li></ul> <h3 id="加载模块"><a href="#加载模块" aria-hidden="true" class="header-anchor">#</a> 加载模块</h3> <p>任何一个模块，必须要加载之后才能使用。
加载的方法很简单<strong>require函数</strong></p> <p>require方法是nodejs提供的用于引用模块的方法。</p> <p>require函数会返回一个对象，该对象公开的API可能是函数，对象。取决于模块是如何定义的，大部分情况下都是对象。</p> <p>根据不同类型的模块，加载的方式略有不同：</p> <blockquote><p>核心模块的加载</p></blockquote> <p>最为简单，直接使用require载入即可，参数就是模块名称</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> 名称 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>模块名称<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//require函数的参数就是模块名称，不要加任何路径、也不要加任何后缀</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>第三方模块的加载</p></blockquote> <p>针对第三方模块，必须要安装，然后才能使用require加载</p> <ol><li>使用 <strong>npm i 模块名 安装</strong> (后面会详细讲解npm)</li> <li>引入</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> 名称 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>模块名称<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意：在用法上，和核心模块是一致的，但是加载的原理是有区别的：</p> <ul><li>核心模块，是node自带，已经编译好的，任何时候，都可以载入，直接使用，所以它不会出错。</li> <li>第三方模块，必须要安装的，然后在require的时候，也有一个查找机制，首先会在当前目录的node_modules来找，如果找到，就直接使用，否则就在祖先目录中来查找，直至根目录，如果找到，使用之，如果没有找到，就会报错。</li> <li>并且，node_modules文件夹的名称是固定的，不能更改。</li></ul> <blockquote><p>自定义模块的加载</p></blockquote> <ol><li>定义一个模块并导出</li></ol> <h4 id="定义一个模块，新建一个js文件"><a href="#定义一个模块，新建一个js文件" aria-hidden="true" class="header-anchor">#</a> 定义一个模块，新建一个js文件</h4> <h4 id="导出模块"><a href="#导出模块" aria-hidden="true" class="header-anchor">#</a> 导出模块</h4> <ul><li>module.exports是一个node.js自带的对象，作为require函数的返回值，它的默认值是{}。所以，我们在导出模块接口的时候，需要作为这个对象的属性来导出</li> <li>作为模块，一般都是导出一些对象，供其他模块来使用</li> <li>module.exports有一个别名---exports，所以还有一种方法导出模块的接口
<strong>所谓的别名，其实是exports引用了module.exports对象</strong> <img src="/notice/dist/assets/img/23.a45c9031.png" alt="image"></li></ul> <p><strong>require函数获取的结果一定是module.exports,一旦给exports赋值之后就和module.exports一刀两断了，没有任何关系了。所以，在使用exports别名的时候，只能挨个的往exports对象上添加属性，而不能直接赋值</strong></p> <p><img src="/notice/dist/assets/img/24.38c2f2db.png" alt="image"></p> <ol start="2"><li>使用require加载</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>必须要使用相对路径或绝对路径，建议使用相对路径，使用./或../开头</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./index'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当文件不带后缀，node会依照 目录 -&gt;.js-&gt; .json-&gt; .node 的顺序进行查找.如果所有模块路径都找不到该文件，则抛出异常。</p> <p>如果是目录的话，通常是会自动载入这个目录下的index.js文件</p> <h2 id="npm"><a href="#npm" aria-hidden="true" class="header-anchor">#</a> NPM</h2> <p><img src="/notice/dist/assets/img/25.95bfe37a.png" alt="image"></p> <ul><li><p>npm通常是和node.js一起安装的</p></li> <li><p>npm，node package manager，是 Node 的模块管理器，功能极其强大。它是 Node 获得成功的重要原因之一。</p></li> <li><p>随着一系列基于nodes的应用/工具的出现，工作中与nodejs打交道的机会越来越多。无论在node应用的开发，还是使用中，包管理都扮演着一个很重要的作用。</p></li> <li><p>npm，极大地便利了我们的开发工作，顾名思义，它的主要功能就是管理node包，包括：安装、卸载、更新、查看、搜索、发布等</p></li></ul> <h3 id="npm出现背景"><a href="#npm出现背景" aria-hidden="true" class="header-anchor">#</a> NPM出现背景</h3> <p>我们经常需要去下载一些资源，一般的做法是去相应的官网上下载。例如jquery，就去jquery的官网，zepto就去zepto的官网去下载，这样很麻烦。我们需要有一个地方，可以下载全部的资源。</p> <p>一个直观的想法，就是去建立一下网站，让所有的公司都把自己的软件上传上来，这样，用户就可以去下载了，就不用到处找官网。</p> <p>它提供npm这个工具：</p> <ol><li>你可以上传自己的代码。</li> <li>你可以下载别人的代码。</li></ol> <p>约定标准的文件组织结构</p> <h3 id="npm-运行方式"><a href="#npm-运行方式" aria-hidden="true" class="header-anchor">#</a> NPM 运行方式</h3> <p>在安装node.js的同时，npm就已经被安装了。你可以在任何的cmd窗口去运行npm相关命令</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="cmd窗口的使用"><a href="#cmd窗口的使用" aria-hidden="true" class="header-anchor">#</a> CMD窗口的使用</h3> <ul><li>在任意的目录下，按下shift + 右键，“在此处打开命令化窗口”，打开之后，当前的目录就是你打开的这个目录。</li> <li>win + r
<img src="/notice/dist/assets/img/27.fce11ea8.png" alt="image"></li></ul> <h4 id="cmd窗口常用指令"><a href="#cmd窗口常用指令" aria-hidden="true" class="header-anchor">#</a> CMD窗口常用指令</h4> <table><thead><tr><th>指令</th> <th>含义</th></tr></thead> <tbody><tr><td>cd</td> <td>切换目录</td></tr> <tr><td>上下方向键</td> <td>快速录入上一个命令</td></tr> <tr><td>dir</td> <td>列出当前目录下的文件信息</td></tr> <tr><td>cls</td> <td>清屏</td></tr> <tr><td>ctrl+c</td> <td>推出当前命令</td></tr> <tr><td>dir</td> <td>列出当前目录下的文件信息</td></tr> <tr><td>mkdir</td> <td>创建文件夹</td></tr></tbody></table> <h4 id="指令组成"><a href="#指令组成" aria-hidden="true" class="header-anchor">#</a> 指令组成</h4> <p>命令  参数  选项</p> <p><img src="/notice/dist/assets/img/28.e92e1259.png" alt="image"></p> <h3 id="npm命令"><a href="#npm命令" aria-hidden="true" class="header-anchor">#</a> NPM命令</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm help
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>$npm init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>你要想把自己的代码上传到npm官网，大家一起来使用这个代码，则我们必须要遵守一些固定的规则。如你的包(package)中在根目录下必须一定要有一个package.json文件</p> <p>init这个命令就可以帮助我们在当前目录下创建这个package.json这个文件。</p> <p>选项的说明：</p> <ul><li>name: package的名字 （必须)</li> <li>version: package的版本 （必须)</li> <li>description: 包的描述</li> <li>author: 包的作者姓名</li> <li>main: 包的入口文件</li> <li>dependencies:    package的应用依赖模块</li> <li>devDependencies: package的开发依赖模块</li> <li>scripts: 属性是一个对象，里边指定了项目的生命周期个各个环节需要执行的命令</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm init --yes|-y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建一个默认的package.json文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它会自动在当前目录去找package.json文件。然后，把这个文件中设置的依赖项去npm官网中下载，并安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install 包名  -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>全局安装：安装之后，在任意目录下，打开cdm窗口你都可以使用</p> <p>如你全局安装的话，则会把这个命令放在npm在系统中注册的那个path目录下。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm root -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看全局安装的包的保存目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install 包名 | npm install 包名 --save|-S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>下载生产环境依赖</li> <li>会修改package.json。会在package.json的dependencies属性下添加记录</li> <li>运行npm install命令时，会自动安装包到node_modules目录中</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install 包名 --save-dev|-D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>下载开发环境依赖</li> <li>会修改package.json。会在package.json的devDependencies属性下添加记录</li> <li>运行npm install命令时，会自动安装包到node_modules目录中</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install 包名1 包名2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>同时安装多个包</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install 包名1@指定版本
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>安装时可以指定具体版本</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm uninstall
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除包</p> <ul><li>可能修改package.json.如果你安装时修改了这个文件，则删除时会去掉依赖项。</li> <li>删除Node_modules下面对应文件</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm update
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>更新包</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm ls
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>列出来安装的包的信息</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm config set registry https://registry.npm.taobao.org/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用国内npm源</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm config list
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看当前的npm配置项</p> <h2 id="命令行程序"><a href="#命令行程序" aria-hidden="true" class="header-anchor">#</a> 命令行程序</h2> <h3 id="什么是命令行程序"><a href="#什么是命令行程序" aria-hidden="true" class="header-anchor">#</a> 什么是命令行程序</h3> <p>当输入命令时，系统会去查找找当前目录下的可以执行程序，找不到去查找path配置目录下的可执行程序。</p> <p>可执行程序(.exe .cmd)</p> <p>命令行程序就是通过命令去执行某些任务</p> <h3 id="怎么创建命令行程序"><a href="#怎么创建命令行程序" aria-hidden="true" class="header-anchor">#</a> 怎么创建命令行程序</h3> <ol><li>创建一个包</li></ol> <p>1.1. 创建package.json</p> <p>1.2. bin字段</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
    命令行程序的名字<span class="token punctuation">:</span>要执行的js文件
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>1.3. 创建js文件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>#<span class="token operator">!</span><span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>env node
<span class="token comment">//告诉系统使用node来启动命令</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>输入npm link</li></ol> <p>全局自动生成.cmd文件</p> <hr> <h2 id="文件系统"><a href="#文件系统" aria-hidden="true" class="header-anchor">#</a> 文件系统</h2> <p>node.js的作用，体现在两个方面：</p> <ul><li>命令行</li> <li>网站</li></ul> <p>针对命令行进行操作，首先必须要使用的一个核心模块就是文件系统模块。</p> <p>比如，npm init -y ，vue init webpack app。</p> <p>很多命令行的程序，都是针对文件进行操作的。</p> <h3 id="文件系统概述"><a href="#文件系统概述" aria-hidden="true" class="header-anchor">#</a> 文件系统概述</h3> <p>任何一门编程语言，尤其是后端的语言，都提供了文件系统的相关操作。</p> <p>可以结合我们平常所使用的一些软件和webapp，有没有和文件操作相关的呢。</p> <p>文件，可以是任何的文件，包括文档、图片、电影、音频等文件。</p> <ul><li>百度云盘 文件的上传和下载</li> <li>在开发的过程中，经常使用的一些构建工具，也是对文件进行相关的操作。比如npm、
webpack、vue-cli、gulp，都是对文件的相关操作。</li></ul> <p>所以说，文件操作是编程领域中非常重要的一个方面。浏览器端的js是不允许操作文件，基于安全考虑。但是服务端必须要提供对文件操作的支持，因为服务端是安全的。</p> <p>在node.js中，文件系统的操作是使用fs核心模块来实现的。</p> <blockquote><p>针对这个fs，重点是如下两个方面：</p></blockquote> <ul><li>常见的文件操作：读取、写入、删除、判断存在性、文件信息</li> <li>常见的目录操作：创建、删除、读取</li></ul> <blockquote><p>在fs模块中，基本上所有的操作都有两个版本：</p></blockquote> <ul><li>同步版本</li> <li>异步版本</li></ul> <h3 id="读取文件"><a href="#读取文件" aria-hidden="true" class="header-anchor">#</a> 读取文件</h3> <blockquote><p>readFile / readFileSync</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./aa.txt'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>     
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./aa.txt'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意：</p> <ul><li>在读取文件的时候，默认使用的buffer，需要设置相应的字符集编码，对于文本文件，就设置为utf8.</li> <li>在node的文件操作中，异步的回调函数是错误优先的回调，错误信息对象作为回调函数的第一个参数</li></ul> <h4 id="同步和异步的区别"><a href="#同步和异步的区别" aria-hidden="true" class="header-anchor">#</a> 同步和异步的区别</h4> <ul><li>获取结果的方式不同，异步是通过回调的参数获取的，而同步是通过方法返回值获取的</li> <li>执行顺序不同</li></ul> <h3 id="覆盖式写文件"><a href="#覆盖式写文件" aria-hidden="true" class="header-anchor">#</a> 覆盖式写文件</h3> <blockquote><p>fs.writeFile(file,data,[options],callback) / fs.writeFileSync(file,data,[options])</p></blockquote> <h3 id="追加式写文件"><a href="#追加式写文件" aria-hidden="true" class="header-anchor">#</a> 追加式写文件</h3> <blockquote><p>fs.appendFile(file,data,[options],callback) / fs.appendFileSyncfs.writeFileSync(file,data,[options])</p></blockquote> <h3 id="删除文件"><a href="#删除文件" aria-hidden="true" class="header-anchor">#</a> 删除文件</h3> <blockquote><p>fs.unlink(path,callback) / fs.unlinkSync(path)</p></blockquote> <h3 id="判断文件是否存在"><a href="#判断文件是否存在" aria-hidden="true" class="header-anchor">#</a> 判断文件是否存在</h3> <blockquote><p>fs.exists(废弃) / fs.existsSync(path)</p></blockquote> <h3 id="获取文件信息"><a href="#获取文件信息" aria-hidden="true" class="header-anchor">#</a> 获取文件信息</h3> <blockquote><p>fs.stat(path,callback) / fs.statSync(path)</p></blockquote> <p><strong>callback 中文件信息对象 stats类</strong></p> <p>文件类型有很多种，在linux中，有7种。而在windows下面只有两种：</p> <ul><li>文件 stats.isFile()</li> <li>目录 stats.isDirectory()</li></ul> <h3 id="创建目录"><a href="#创建目录" aria-hidden="true" class="header-anchor">#</a> 创建目录</h3> <blockquote><p>fs.mkdir(path,callback) / fs.mkdirSync(path)</p></blockquote> <ul><li>在使用mkdir创建目录的时候，只能创建单层目录，不能递归的创建目录。</li> <li>path在书写路径格式时必须确认父路径存在才能创建子路径</li></ul> <h3 id="删除目录"><a href="#删除目录" aria-hidden="true" class="header-anchor">#</a> 删除目录</h3> <blockquote><p>fs.rmdir(path,callback)  / fs.rmdirSync(path)</p></blockquote> <ul><li>rmdir只能删除空目录，如果目录是非空的，则无法删除</li> <li>如果需要删除某个目录，首先就应该先删除目录中的内容，最后再删除目录本身</li></ul> <h3 id="读取目录"><a href="#读取目录" aria-hidden="true" class="header-anchor">#</a> 读取目录</h3> <blockquote><p>fs.readdir(path,[options],callback) / fs.readdirSync(path,[options])</p></blockquote> <p><strong>思考如何删除非空文件夹</strong></p> <h3 id="递归删除目录"><a href="#递归删除目录" aria-hidden="true" class="header-anchor">#</a> 递归删除目录</h3> <p>由于rmdir方法，只能删除空目录，如果一个目录下有很多内容，尤其是嵌套了很多层的文件夹，只能一层一层的来删，应该使用递归的思想来实现。</p> <p>只要有递归，就需要定义函数。</p> <p>可以封装一个函数，用于删除指定目录。</p> <ul><li>如果没有递归，通常用异步的文件操作。有了递归，需要使用同步的文件操作。</li></ul> <h3 id="node流"><a href="#node流" aria-hidden="true" class="header-anchor">#</a> node流</h3> <p>流是Node.js中一个非常重要的概念， 也是Node.js之所以适用于I / O密集型场景的重要原因之一。 流是Node.js移动数据的方式， 流可以是可读的和／ 或可写的。 在Node.js中很多模块都使用到了流， 包括HTTP和fs模块</p> <p>由于数据是流， 这就意味着在完成文件读取之前， 从收到最初几个字节开始， 就可以对数据动作。</p> <p>由于一次性读取再写入的方式不适用与大文件拷贝， 容易造成内存爆仓， 对于大文件， 我们只能读一点儿写一点儿直到拷贝完成</p> <h3 id="路径"><a href="#路径" aria-hidden="true" class="header-anchor">#</a> 路径</h3> <blockquote><p>path模块用于处理文件与目录的路径</p></blockquote> <p>在前面的文件操作过程中，我们使用的都是相对路径。</p> <p>实际上，文件操作，可以使用如下两种路径：</p> <ul><li>相对路径</li> <li>绝对路径</li></ul> <ol><li>相对路径</li></ol> <p>关于相对路径，就是以./或../开头的，并且./是可以省略的。（和require区分开来，如果是自定义模块，./是必不可少的），提倡使用相对路径。</p> <ol start="2"><li>绝对路径</li></ol> <p>可以使用以磁盘开头的那个绝对路径, 绝对路径好是好，就是不灵活，可移植性不好。</p> <p>针对这种情形，node.js提供了一个非常强大的魔术常量---<strong>__dirname</strong></p> <p><strong>__dirname</strong>表示当前文件所在的目录。</p> <hr> <p>在拼接路径的时候，需要小心谨慎，才能避免出错。</p> <p>针对这种情况，path模块提供两个方法，可用于路径的拼接操作。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>path<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>path<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>path<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>path<span class="token operator">-</span>n<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用平台特定的分隔符把所有 path 片段连接到一起，并规范化生成的路径。</p> <ul><li>长度为零的 path 片段会被忽略。 如果连接后的路径字符串是一个长度为零的字符串，则返回 '.'，表示当前工作目录。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>path<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>path<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>path<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span>path<span class="token operator">-</span>n<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将路径或路径片段的序列处理成绝对路径。</p> <ul><li>如果处理完所有 path 片段后还未生成绝对路径，则使用当前工作目录</li> <li>生成的路径是规范化后的，且末尾的斜杠会被删除，除非路径是根目录。</li> <li>长度为零的 path 片段会被忽略。</li> <li>如果没有传入 path 片段，则返回当前工作目录的绝对路径。</li></ul> <h2 id="使用node-js进行web开发"><a href="#使用node-js进行web开发" aria-hidden="true" class="header-anchor">#</a> 使用Node.js进行web开发</h2> <p><img src="/notice/dist/assets/img/29.96639776.png" alt="image"></p> <h3 id="什么是http？"><a href="#什么是http？" aria-hidden="true" class="header-anchor">#</a> 什么是HTTP？</h3> <p>HTTP：HyperText Transfer Protocal，超文本传输协议。用于从Web服务器传输超文本到本地浏览器的传送协议。</p> <p>HyperText：简而言之，就是HTML。超文本就包括文本（包括各种文本类型文件，如html、css、js）、图片、视频、音频、动画等资源，在web开发中，是通过HTML来表示的</p> <p>Transfer：从服务端传输到浏览器端</p> <p>Protocal：协议，就是规范。只有遵循了一定的规范，才能完成这个传输过程。</p> <p>针对这个传输的过程，图示如下：</p> <p><img src="/notice/dist/assets/img/30.11c88c0e.png" alt="image"></p> <p>这就是我们web中的请求/响应模型。</p> <p>任何一次传输，基本上都是有浏览器端先发出一个请求，服务端接收请求之后，返回响应，将服务端的超文本传输到浏览器端。</p> <p>超文本通常就是一些资源，也就是文件，比如html文件、css文件、js文件、图片文件、视频文件、音频文件、动画文件。</p> <h3 id="http的构成"><a href="#http的构成" aria-hidden="true" class="header-anchor">#</a> http的构成</h3> <p>HTTP是一个请求/响应模型，有两个部分构成的：</p> <ul><li>HTTP 请求</li> <li>HTTP 响应</li></ul> <hr> <ol><li>HTTP 请求</li></ol> <p>resquest，可以简称为req，有如下三个部分构成的：</p> <ul><li>请求行</li> <li>请求头</li> <li>请求正文</li></ul> <ol start="2"><li>HTTP响应</li></ol> <p>response，可以简称为res，响应也是有三个部分构成的：</p> <ul><li>状态行</li> <li>响应头</li> <li>响应正文</li></ul> <h3 id="网络查看工具-network面板"><a href="#网络查看工具-network面板" aria-hidden="true" class="header-anchor">#</a> 网络查看工具---network面板</h3> <p><img src="/notice/dist/assets/img/31.ed3e59ac.png" alt="image"></p> <p>比如，访问本地提供的一个静态页面，network效果如下：</p> <p><img src="/notice/dist/assets/img/32.938fbbcc.png" alt="image"></p> <p>其中，这里列出的每一个文件（资源）都是一个超文本。</p> <p>这些超文本都是从web服务端传输到浏览器端的。如图：
<img src="/notice/dist/assets/img/33.85c37118.png" alt="image"></p> <p>点击文件列表中的任何一个文件，它就是一次完整的http请求。</p> <p><img src="/notice/dist/assets/img/34.4aa133dd.png" alt="image"></p> <h3 id="http-请求"><a href="#http-请求" aria-hidden="true" class="header-anchor">#</a> HTTP 请求</h3> <p>一般而言，我们所谓的向服务端发起请求的就是一个网站。</p> <p>在浏览器的地址栏中输入所谓的url或者是通过表单进行提交的时候，浏览器会将网址和相应的信息进行加工处理，形成三个部分。</p> <p>针对http请求，有8种，目前只需要掌握如下两种：</p> <ul><li>get请求</li> <li>post请求</li></ul> <ol><li>get请求</li></ol> <p>http请求中最多的一种，大部分都是基于get请求的。</p> <p>表现形式通常就是直接通过url来向服务端发出的请求，常见的有：</p> <ul><li>直接在地址栏中输入url</li> <li>标签的src属性，如img标签、script标签、frame标签</li> <li>标签的href属性，如a标签和link标签</li></ul> <p>使用network面板查看get请求的详细信息</p> <ol start="2"><li>post请求</li></ol> <p>post请求，一般而言就是针对form表单的提交。</p> <hr> <p>不管是get请求，还是post请求，整个的http请求有如下三个部分：</p> <ul><li>请求行，主要是指定路径、method、协议版本（http/1.1）</li> <li>请求头，发请求时额外携带的一些头信息</li> <li>请求正文，get请求时，正文为空，post请求时有内容</li></ul> <h3 id="http响应"><a href="#http响应" aria-hidden="true" class="header-anchor">#</a> HTTP响应</h3> <p>http响应是指服务端传输到浏览器端的内容，就是超文本。</p> <p>针对响应而言：</p> <ul><li>状态行，包含协议的版本（http/1.1）、状态码和状态描述信息</li></ul> <p>针对这个状态码，有一些常用的，是必须要了解，如：</p> <ol><li>200，响应成功了，ok</li> <li>302，重定向，founded</li> <li>304，使用缓存，not modified</li> <li>404，找不到文件，not found</li> <li>403，禁止访问，not forbidden</li> <li>500，服务器内部错误，server internal</li></ol> <ul><li><p>响应头，服务端告诉浏览器的一些规则，浏览器应该怎么解析传输回来的这些信息，比如content-type，告诉浏览器应该如何解析信息。我们在编写服务端代码的时候，有时候需要写这个响应头</p></li> <li><p>响应正文，浏览器端接受到的正文部分</p></li></ul> <h3 id="进一步理解http"><a href="#进一步理解http" aria-hidden="true" class="header-anchor">#</a> 进一步理解HTTP</h3> <blockquote><p>在访问网站的时候，用户在浏览器端看到的内容从而何来？</p></blockquote> <p>都是从服务端传输到浏览器端的。</p> <p>实际上，我们在平常访问web应用的时候，都是从服务端将超文本下载到本地的浏览器端的内存中，然后结果浏览器的解析引擎（DOM解析、CSS解析、js解析）加以解释，最后呈现到我们的眼前。</p> <p>针对百度首页，只是访问了一个url，https://www.baidu.com/，但是却有若干请求，如下，这是为何？</p> <p><img src="/notice/dist/assets/img/35.707b4565.png" alt="image"></p> <p>这一个html文件，就是一次请求。
当浏览器解析这个html文件的时候，遍历html文件中的标签。
如果这个标签是link、script、img、frame标签，它就会再次的向服务端发起get请求，从而获取这些相应的资源文件。
<img src="/notice/dist/assets/img/36.fb10bbe1.png" alt="image"></p> <h2 id="server-对象"><a href="#server-对象" aria-hidden="true" class="header-anchor">#</a> Server 对象</h2> <p>在node.js中，针对web开发，有如下四大核心对象：</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="什么是server对象？"><a href="#什么是server对象？" aria-hidden="true" class="header-anchor">#</a> 什么是server对象？</h3> <p>在Node.js中，Server对象充当了HTTP服务器的角色。如图所示：</p> <p><img src="/notice/dist/assets/img/38.71e398dd.png" alt="image"></p> <p>它提供了一个监听端口的底层套接字和接收请求，然后发送响应给客户端连接的处理程序。
观点：服务，必须要开启，然后用户才能去使用服务。</p> <h3 id="如何创建"><a href="#如何创建" aria-hidden="true" class="header-anchor">#</a> 如何创建</h3> <p>Node.js针对web开发，提供了诸多模块，其中最核心的模块就是<strong>http模块</strong>。</p> <p><strong>http模块</strong>本身就是一个对象，可以使用http模块的createServer方法创建一个server，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="重要方法"><a href="#重要方法" aria-hidden="true" class="header-anchor">#</a> 重要方法</h3> <h4 id="listen方法"><a href="#listen方法" aria-hidden="true" class="header-anchor">#</a> listen方法</h4> <p>作用就是开启某个端口的监听，提供http服务。调用listen方法，好比是要开门营业了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>说明，我们的server对象，在3000这个端口提供一个http服务。</p> <p>在没有声明主机参数的情况下，默认的域名是localhost。</p> <p>可以使用http://loclahost:3000访问一下.</p> <p>发现，可以访问，但是没有任何返回内容，请求一直在进行。</p> <p><strong>因为，现在我们的server已经有了，并且是开启了服务，但是很遗憾，没有提供任何服务的内容。</strong></p> <h3 id="重要事件"><a href="#重要事件" aria-hidden="true" class="header-anchor">#</a> 重要事件</h3> <p>针对http的请求和响应，我们可以站在事件的角度来看待。</p> <p>刚才的server对象，已经有了，并且在3000端口在监听用户的请求.</p> <p>当我们在浏览器中输入http://localhost:3000的时候，就相当于触发了请求事件，如图：</p> <p><img src="/notice/dist/assets/img/39.1041c7ae.png" alt="image"></p> <p>目前还没有注册任何事件，所以没有任何返回信息。</p> <p>针对这个server，它提供了两个重要事件：</p> <ul><li>request：接收请求时触发，传递两个参数，IncomingMessage（request）对象和response对象</li> <li>listening：调用listen时触发</li></ul> <p>注册事件，在node.js中统一使用on的方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>对象<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>注册一个listening事件，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'listening'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//该方法可以简写以下写法</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>同理，注册request事件，也有两种方式：</p> <ul><li><p>使用on来显式注册</p></li> <li><p>作为createServer方法的参数，以回调函数的形式注册</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//该方法可以简写以下写法</span>

http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在开发时，基本上都是使用简写的方式来注册事件。</p> <p>Server对象的使命已经完成，具体用户在访问的时候，如何返回内容，返回什么内容，它是有serverResponse对象来完成的。</p> <h2 id="serverresponse对象"><a href="#serverresponse对象" aria-hidden="true" class="header-anchor">#</a> ServerResponse对象</h2> <p>serverResponse对象就是服务端响应对象。</p> <p>每一次用户的http请求获取的内容，都是由serverResponse提供的。</p> <h3 id="如何创建-2"><a href="#如何创建-2" aria-hidden="true" class="header-anchor">#</a> 如何创建</h3> <p>不需要自己创建，作为回调函数的参数，自动提供给我们的。</p> <p>是作为<strong>request事件的第二个参数</strong>，自动提供的。</p> <p>在编写代码的时候，将serverResponse对象简写为res</p> <h3 id="重要属性和方法"><a href="#重要属性和方法" aria-hidden="true" class="header-anchor">#</a> 重要属性和方法</h3> <h4 id="属性"><a href="#属性" aria-hidden="true" class="header-anchor">#</a> 属性</h4> <table><thead><tr><th>属性</th> <th>说明</th></tr></thead> <tbody><tr><td>statusCode</td> <td>表示状态码。如200,302,404等</td></tr> <tr><td>statusMeesage</td> <td>表示状态的描述信息，比如ok，not found</td></tr></tbody></table> <h4 id="方法"><a href="#方法" aria-hidden="true" class="header-anchor">#</a> 方法</h4> <table><thead><tr><th>方法</th> <th>说明</th> <th>注意点</th></tr></thead> <tbody><tr><td><strong>writeHead</strong></td> <td>把一个响应头写入请求</td> <td>注意参数</td></tr> <tr><td><strong>write</strong></td> <td>把数据写入响应的正文</td> <td></td></tr> <tr><td><strong>end</strong></td> <td>完成响应,同时有可以写入数据</td> <td>必须调用</td></tr> <tr><td>setHeader</td> <td>设置特定的HTTP头信息</td> <td></td></tr> <tr><td>getHeader</td> <td>获取已在响应中设置的指定HTTP头信息</td> <td></td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code>http<span class="token punctuation">.</span><span class="token function">createSever</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;p&gt;hello world&lt;/p&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//该方法可以简写以下写法</span>
http<span class="token punctuation">.</span><span class="token function">createSever</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;p&gt;hello world&lt;/p&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>end方法，必须要有，否则就停不下来。</strong></p> <p>同时，在end方法中，也可以顺带写入响应正文。</p> <p>serverResponse对象没有事件。</p> <h2 id="incommingmessage对象"><a href="#incommingmessage对象" aria-hidden="true" class="header-anchor">#</a> IncommingMessage对象</h2> <p>直译就是来自对方的信息。</p> <p>站在不同的角度，对于incomingMessage对象的理解是不一样的.</p> <p><img src="/notice/dist/assets/img/40.427adfe9.png" alt="image"></p> <p>站在服务器这一端，我想获取来自浏览器端请求的信息。</p> <p>站在浏览器这一端，我想获取来自服务端响应的信息。</p> <p>不管站在哪一端，都是需要获取来自对方的信息。</p> <p>所以，这个对象是个两面派。在不同的场景下，表现是不一样的。</p> <p>针对刚才的这个代码，是需要站在服务器这一端，来获取来自浏览器端请求的信息。</p> <p>基本上，大部分的应用场景都是基于 站在服务器这一端。</p> <p>声明：下面的讲解主要是 基于 站在服务器这一端 的icommingMessage对象，此时我们可以将icommingMessage称作request对象，和 response对象相呼应。</p> <h3 id="如何创建-3"><a href="#如何创建-3" aria-hidden="true" class="header-anchor">#</a> 如何创建</h3> <p>无需自己创建，也是作为request事件的回调函数的参数来提供的。是第一个参数。</p> <h3 id="重要属性和方法-2"><a href="#重要属性和方法-2" aria-hidden="true" class="header-anchor">#</a> 重要属性和方法</h3> <p>站在服务端，获取来自客户端信息，通常就是获取，主要是属性</p> <table><thead><tr><th>属性</th> <th>说明</th> <th>备注</th></tr></thead> <tbody><tr><td>httpVersion</td> <td>请求/响应的HTTP版本</td> <td></td></tr> <tr><td>headers</td> <td>请求/响应头信息</td> <td></td></tr> <tr><td>rawHeaders</td> <td>原始请求/响应头信息</td> <td></td></tr> <tr><td>method</td> <td>请求方式</td> <td>仅对从Server获得到的请求(request)有效</td></tr> <tr><td>url</td> <td>请求的url字符串</td> <td>仅对从Server获得到的请求(request)有效</td></tr></tbody></table> <p>其中，重点掌握如下两个：</p> <ul><li>headers就表示http请求头信息</li> <li>url表示是请求的路径，它是以/开头的</li></ul> <h3 id="事件"><a href="#事件" aria-hidden="true" class="header-anchor">#</a> 事件</h3> <table><thead><tr><th>事件</th> <th>说明</th> <th>备注</th></tr></thead> <tbody><tr><td>data</td> <td>数据传递时触发</td> <td>由Readable Stream提供的一些接口，然后incomingMessage实现了这些接口</td></tr> <tr><td>end</td> <td>没有更多数据提供时触发</td> <td>由Readable Stream提供的一些接口，然后incomingMessage实现了这些接口</td></tr></tbody></table> <h2 id="url路由"><a href="#url路由" aria-hidden="true" class="header-anchor">#</a> url路由</h2> <p>Url，Uniform Resoure Locator（Location），统一资源定位器。
是互联网上标准资源的地址。互联网上的每个文件都有一个唯一的URL。</p> <p>平常我们所说的网址，是url的一种，并且只是包含最常见的一些信息。
一个完整的url格式如下：</p> <p><img src="/notice/dist/assets/img/41.a34f7023.png" alt="image"></p> <p><strong>协议：</strong> 比如http、https、ftp</p> <p><strong>身份验证：</strong> 如果是http和https，直接忽略，如果是ftp，必须有身份验证</p> <p><strong>主机：</strong> 有两种表现形式，一是域名，而是ip。域名和ip具备对应关系。如图：</p> <p><img src="/notice/dist/assets/img/42.da51473a.png" alt="image"></p> <p>端口：一台计算机上执行多个程序（运行多个服务），但是又不相互冲突，可以使用端口，在不同的端口来运行不同的程序（服务）。（比如的电视机的频道）</p> <p><strong>常见的端口有：</strong></p> <ul><li>80，http服务的端口</li> <li>21，ftp端口</li> <li>23，telnet</li> <li>25，SMTP</li> <li>110，POP3</li> <li>443，SSL的端口</li> <li>3306,数据库端口</li></ul> <p>一般来说，1~1024端口是系统保留的端口。</p> <p>1024~35635，是用户自定义的端口。</p> <p>比如，3000，qq端口1080，mysql的端口3306，mongodb的端口27017。</p> <p>如果端口有冲突，就会出问题，不能正常运行。</p> <p><strong>路径：</strong> 文件的路径，包括路径名称和查询字符串。</p> <p><strong>路径名：</strong> 都是以/开头的，可以有很多层。</p> <p><strong>查询字符串：</strong> querystring，?后面的键值对构成的字符串，其作用就是在浏览器向服务器请求数据时携带的一些参数。针对同样的一个路径，通过查询字符串来获取不同的内容。这个字符串是作为条件来查询需要返回的数据，所以称之为查询字符串。</p> <p><strong>散列：</strong> hash，也叫哈希，使用#来表示，主要是在spa中使用比较多</p> <p>在这个完整的url中，除了身份验证，其它都是非常重要的。</p> <h3 id="什么是路由"><a href="#什么是路由" aria-hidden="true" class="header-anchor">#</a> 什么是路由</h3> <p>简单举例说明，假如我们有一台提供 Web 服务的服务器的网络地址是：10.0.0.1，而该 Web 服务又提供了三个可供用户访问的页面，其页面 URI 分别是：</p> <p>http://10.0.0.1/</p> <p>http://10.0.0.1/about</p> <p>http://10.0.0.1/concat</p> <p>那么其路径就分别是 /，/about，/concat。</p> <p>当用户使用 http://10.0.0.1/about 来访问该页面时，Web 服务会接收到这个请求，然后会解析 URL 中的路径 /about，在 Web 服务的程序中，该路径对应着相应的处理逻辑，程序会把请求交给路径所对应的处理逻辑，这样就完成了一次「路由分发」，这个分发就是通过「路由」来完成的。</p> <p>简单来说就是: <strong>给定一个url，就返回一个相应的内容（通常是页面的形式）。</strong></p> <h3 id="如何实现url路由"><a href="#如何实现url路由" aria-hidden="true" class="header-anchor">#</a> 如何实现url路由</h3> <p>要实现的目标：</p> <p>http://localhost:3000/ 首页面</p> <p>http://localhost:3000/list  列表页面</p> <p>http://localhost:3000/detail 详情页面</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;h2&gt;路由&lt;/h2&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'3000 ok...'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>然后分别使用三个url访问之，如下：</p> <p><img src="/notice/dist/assets/img/43.91ac28a0.png" alt="image"></p> <p><img src="data:image/png;base64,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" alt="image"></p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>针对不同的路径，没有做任何的判断和处理，一视同仁，所以返回的是相同的结果。</p> <p>所以，需要针对不同的路径，分别返回不同的内容即可。</p> <p>必须要获取url的路径，如何获取呢？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;content-type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;h2&gt;路由&lt;/h2&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>只需要根据url的值，分别做相应处理即可.</p> <h2 id="解析查询字符串"><a href="#解析查询字符串" aria-hidden="true" class="header-anchor">#</a> 解析查询字符串</h2> <p>长的什么样子？</p> <p>它有一个非常明显的标志，就是 <strong>?</strong> 号</p> <p>在url中，凡是有 <strong>？</strong> ,就表示查询字符串,querystring。</p> <p><img src="/notice/dist/assets/img/46.ddb08dbf.png" alt="image"></p> <p><strong>?</strong> 表示查询字符串的开始，查询字符串是有固定格式的，以键值对的形式出现的。
典型的格式：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">?</span>key1<span class="token operator">=</span>val1<span class="token operator">&amp;</span>key2<span class="token operator">=</span>val2<span class="token operator">&amp;</span>key3<span class="token operator">=</span>val3
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>querystring中是有三个符号：</p> <ul><li><strong>?</strong> querystring的标志</li> <li><strong>=</strong> 键和值之间的连接符号</li> <li><strong>=</strong> 键值对与键值对之间的连接符号</li></ul> <h4 id="查询字符串的作用"><a href="#查询字符串的作用" aria-hidden="true" class="header-anchor">#</a> 查询字符串的作用</h4> <p>其实是我们在给服务端发出一个http 请求的时候，通常是get请求。需要获取相关的信息，由于信息比较多，我只关心其中的一部分信息，可以通过querystring来告诉服务端，获取的这是这些信息。服务端就将querystring作为查询的条件，然后返回相应的数据。</p> <p>比如分页是非常典型的querystring</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://list.jd.com/list.html?cat=9987,653,655&amp;page=2&amp;sort=sort_rank_asc&amp;trans=1&amp;JL=6_0_0&amp;ms=6#J_main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>基本上，我们在使用的时候，用户在页面上进行某个操作，发出请求会携带个querystring。
作为服务端，我们需要获取用户提交的querystring，根据这个querystring返回相应的信息。</p> <p>并且，在前后端进行交互的时候，经常需要沟通的部分，就是这个地方</p> <p>在使用network面板的时候，可以使用querystring来查看查询字符串，如下：</p> <p><img src="/notice/dist/assets/img/47.528f42a3.png" alt="image"></p> <h3 id="如何解析"><a href="#如何解析" aria-hidden="true" class="header-anchor">#</a> 如何解析</h3> <p>在进行服务端开发的时候，需要获取用户提交的querystring，然后根据querystring返回相关的内容。</p> <p>使用http模块启动服务，访问localhost:8080?user=admin&amp;password=123</p> <p>querystring是url的一部分，可以通过req.url来获取</p> <p>既然可以拿到这个url，/?user=admin&amp;password=123</p> <p>就可以对这个字符串进行处理，获取其中的信息。</p> <p>其实就是字符串的处理:</p> <p>使用字符串方法比较麻烦，所以我们使用queryString模块</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'querystring'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中，这里的parse和stringify和JSON对象的parse和stringify是一模一样的。
只是针对的目标不一样。Querystring处理的是查询字符串，JSON处理的是json格式的字符串。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>针对这句代码，我们在处理url地址取?号后时使用字符串方法比较麻烦。</p> <p>其实，url本身的信息也是非常的多，在开发的时候，经常需要获取一个完整的url的所有信息，针对这个需求，node.js专门提供一个模块--- <strong>url模块</strong> 。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将url字符串转成对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>将url格式的对象，转成字符串</p> <p>最后，我们结合两个url和querystring模块，来完成对查询字符串的解析，如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'querystring'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>query<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="载入静态页面"><a href="#载入静态页面" aria-hidden="true" class="header-anchor">#</a> 载入静态页面</h2> <p>作为一个http服务器，最最基本的一个职责就是提供静态页面服务</p> <p>在实际中，有如下三种方式实现静态页面的服务：</p> <ul><li>手动实现，结合http和fs即可</li> <li>框架实现，express框架/koa框架</li> <li>第三方的库，http-server</li></ul> <p>前面我们所写的代码，都是直接使用res向浏览端写会内容，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">'content-type'</span><span class="token punctuation">,</span><span class="token string">'text/html;charset=utf8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;h2&gt;页面&lt;/h2&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>在实际开发中，一般就是，先准备好静态的html页面，然后通过res写回到浏览器端。</p> <ol><li>编写一个html页面</li> <li>通过fs模块读取index.html中的内容</li> <li>res.write写入回浏览器端</li></ol> <p>但是，在实际开发时，页面中肯定有图片，并且css和js是分离的。</p> <p><img src="/notice/dist/assets/img/48.b2bf52f8.png" alt="image"></p> <p>注意：在进行node开发的时候，如果服务端代码没有做任何的修改，只是修改了静态资源（html、css和js文件），是不需要重启ndoe服务的.</p> <p>执行，如下：</p> <p><img src="data:image/png;base64,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IAEAICJMmzaNj8kwYQwSAABAAAISAABAAAISAABAAAISAABAAAISAABAAAISAABAAJZ5AABAJLpx44bVar1+/brNZuvv7w+8AAEJAACR5c6dOxcvXuzo6Ah9GQISAAAiyNWrV7/88stwrsQYJAAARIrw05EQkAAAECHu3LkTfjoSAhIAACLExYsXB3U9AhIAAMa+GzduDDgrxw8CEgAAxj6r1TrYWxCQAAAw9l2/fn2wtyAgAQBg7LPZbIO9BQEJAABjn+BeOaEhIAEAAAQgIAEAAARgqzkAAIh0YrH4mWeeIaJTp06ZzWb+IFqQAAAQ6WbMmNHb28uy7NSpU90H0YIEAIBIN2nSJH6hpFgsdh9ECxIAACJaVlZWfHy82Wy+evVqTExMVlYWfxwBCQAAEW3q1KkOh+OLL744efJkX19fRkYGfxwBCQAAES0lJeXq1auTJ09OSUmxWCzJycn8cQQkAABErgULFkRFRbW0tCQlJU2YMOHq1atRUVFPPfUUISABACCSpaWlORyO8+fP87/yvaypqamEgAQAgIglFouTk5OvXr06adIk/gjfyzpu3DipVIplHgAAEKFmzJjB/y//g7fMzEwEJAAARKhJkybZ7fbOzs64uDj3QYfDMXXq1IkTJyIgAQAgEvHLH1taWt566y2/U6+++uqMGTMQkAAAEIn4XeVaWlrmzp3rd+rixYsISAAAiFApKSl2u/38+fOPPPKI36lvvvlm0aJFmMUKAAARh1/+eO3aNff8VW+TJk26du0aWpAAABBxTp8+/c4778TGxs6bNy/wbEJCwp///Ge0IAEAYOyLiory/vXWrVu3b99OS0sLdn1aWtr/ByPhGAxn438uAAAAAElFTkSuQmCC" alt="image"></p> <p>说明图片、css和js都没有生效，why?</p> <p>查看network面板，发现有如下几个请求：</p> <p><img src="/notice/dist/assets/img/50.332462f9.png" alt="image"></p> <p>注意：在http中，每一个静态的资源（html文件、css文件、js文件、图片文件等）都是一个请求。</p> <p>可以查看每个请求返回的内容：</p> <p><img src="/notice/dist/assets/img/51.d073237e.png" alt="image"></p> <p><img src="/notice/dist/assets/img/52.1392edff.png" alt="image"></p> <p><img src="/notice/dist/assets/img/53.d24c3c49.png" alt="image"></p> <p><img src="/notice/dist/assets/img/54.f631a968.png" alt="image"></p> <p><img src="/notice/dist/assets/img/55.3619b862.png" alt="image"></p> <p>针对request事件，每一次请求，都会触发，所以上述的5次请求，都会执行相同的代码，每次都读取index.html，然后作为结果返回。</p> <p>这样肯定是不对，所以，需要分开来处理。针对不同的请求，需要返回不同的内容。</p> <p>需要使用路由功能，编写代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> pathname <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>url <span class="token operator">===</span> <span class="token string">'/favicon.ico'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>pathname<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'/'</span><span class="token punctuation">:</span>
            <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./src/index.html'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token function">readFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">,</span> pathname<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">readFile</span><span class="token punctuation">(</span>paths<span class="token punctuation">,</span> ck<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">existsSync</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>paths<span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> err<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            ck <span class="token operator">&amp;&amp;</span> <span class="token function">ck</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'8081 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>针对代码，说明：</p> <ul><li>没有写头信息，浏览器是如何识别文件及编码的呢？文件本身就有一些原信息，已经标明了该文件的类型和相应的字符集。</li> <li>在处理css、js和图片时，并没有声明以哪种方式来解析，依靠node以及标签本身的信息来识别的。</li></ul> <h2 id="post请求及响应"><a href="#post请求及响应" aria-hidden="true" class="header-anchor">#</a> post请求及响应</h2> <p>Post请求，主要表现形式就是表单。</p> <p>准备好一个表单， 编写一个login.html</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/login<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>用户名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>密码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>登陆<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>载入这个静态页面</p> <h3 id="核心知识点"><a href="#核心知识点" aria-hidden="true" class="header-anchor">#</a> 核心知识点</h3> <h4 id="post提交的细节和特点"><a href="#post提交的细节和特点" aria-hidden="true" class="header-anchor">#</a> post提交的细节和特点</h4> <p>post是通过表单来提交的，可以查看network，如下：</p> <p><img src="/notice/dist/assets/img/56.f6e63bfb.png" alt="image"></p> <p>可以看出，表单在提交数据的时候，是以字符串的形式来发送的，并且这个字符串的格式和querystring的格式是一致的。</p> <p>换言之，表单在提交数据的时候，会收集表单所有的数据，然后拼接成一个字符串，进行传送。</p> <p>还有，form data在从浏览器端向服务端传输的时候，不是一次性的传递过去，而是采用了流的传输模式，一次之只能传递一小块，如图：</p> <p><img src="/notice/dist/assets/img/57.d2e0b92b.png" alt="image"></p> <p>这就意味着，在服务端是一次接受一小块.</p> <h4 id="利用req对象的data事件和end事件"><a href="#利用req对象的data事件和end事件" aria-hidden="true" class="header-anchor">#</a> 利用req对象的data事件和end事件</h4> <p>关键问题是如何才能获取到浏览器传输的数据呢？</p> <p>此时，就需要利用req对象的data事件和end事件了。</p> <table><thead><tr><th>事件</th> <th>说明</th> <th>备注</th></tr></thead> <tbody><tr><td>data</td> <td>数据传递时触发</td> <td>由Readable Stream提供的一些接口，然后incomingMessage实现了这些接口</td></tr> <tr><td>end</td> <td>没有更多数据提供时触发</td> <td>由Readable Stream提供的一些接口，然后incomingMessage实现了这些接口</td></tr></tbody></table> <p>在每一次传递一个chunk的时候，都会触发data事件，并且将传递的数据作为参数来传入。
当整个的数据传输完毕时，就会触发end事件</p> <h4 id="querystring对象的parse方法"><a href="#querystring对象的parse方法" aria-hidden="true" class="header-anchor">#</a> querystring对象的parse方法</h4> <p>服务端接收到浏览器端传输的信息，其格式不会发生变化，还是原样.</p> <p>需要对该字符串进行解析，可以使用querystring方法的parse方法解析即可。</p> <hr> <ul><li>Get和post的理解，get是用于从服务端获取信息的，post是用于向服务端提交数据的。Get方式只是获取，不能改变服务端的数据的，post可以改变服务端的数据，通常是添加数据的。</li> <li>在get和post请求时，携带额外数据，数据的格式是一样的，都是查询字符串格式，不同的地方在于get请求，是以querystring形式，直接附加在url上，在地址栏可以看清楚的，而post则是form data的形式来提交的，用户是看不见的。</li></ul> <h2 id="clientrequest对象（爬虫）"><a href="#clientrequest对象（爬虫）" aria-hidden="true" class="header-anchor">#</a> ClientRequest对象（爬虫）</h2> <p>clientRequest是指客户端请求对象。
一般情况下，http请求是用户在浏览器中进行某个操作，通过浏览器发出这个请求的。比如：</p> <ul><li>直接在浏览器的地址栏中输入网址</li> <li>点击页面中的超链接</li> <li>页面在解析的时候，解析到img标签、script标签、link标签等</li> <li>提交表单</li></ul> <p>clientRequest可以不使用浏览器，向服务端发出一个http请求。</p> <p>所以，可以使用clientReqeust对象，向服务端发请求，抓取网络中的数据。
利用抓取的功能，我们就可以实现 <strong>爬虫</strong>。</p> <h3 id="创建"><a href="#创建" aria-hidden="true" class="header-anchor">#</a> 创建</h3> <p>利用http对象的get方法，即可创建</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientRequest <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>clientRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="属性和方法"><a href="#属性和方法" aria-hidden="true" class="header-anchor">#</a> 属性和方法</h3> <ol><li>write</li> <li>end</li></ol> <p>这两个方法只针对，使用http.request方法创建的clientRequest对象才需要使用的。
如果是使用get方法创建的clientRequest则无需使用这两个方法。</p> <p>由于我们推荐使用get方法，所以这两个方法基本不用关心</p> <h3 id="事件-2"><a href="#事件-2" aria-hidden="true" class="header-anchor">#</a> 事件</h3> <p>针对clientRequest，有一个事件，就是response事件。可以和request事件类比。</p> <p>注册的方式有两种：</p> <ul><li>显式的使用on来注册</li> <li>作为get方法的回调函数来注册的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> clientRequest <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://www.baidu.com'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个也是incomingMessage对象
所谓的incomingMessage是指来自对象的信息，
在http请求/响应模型中，需要站在两个不同的角度来看待这个对象</p> <ul><li>站在服务器端的角度，当有请求来的时候，需要查看来自请求方的信息，称之为request。</li> <li>站在客户端的角度，当有响应返回的时候，需要查看来自服务端的信息，称之为response。</li></ul> <p>针对这个response对象，它有哪些属性和方法:</p> <table><thead><tr><th>属性</th> <th>说明</th> <th>备注</th></tr></thead> <tbody><tr><td>httpVersion</td> <td>请求/响应的HTTP版本</td> <td></td></tr> <tr><td>headers</td> <td>请求/响应头信息</td> <td></td></tr> <tr><td>rawHeaders</td> <td>原始请求/响应头信息</td> <td></td></tr> <tr><td>statusCode</td> <td>响应状态码</td> <td>仅对从clientRequest获得到的响应(response)有效</td></tr></tbody></table> <p>方法比如，setEncoding，设置字符集编码</p> <p>事件还是 <strong>data</strong> 和 <strong>end</strong></p> <p><img src="/notice/dist/assets/img/58.036a7a1a.png" alt="image"></p> <p>现在可以利用response对象的事件来抓取百度首页的内容啦！</p> <h2 id="node-dev"><a href="#node-dev" aria-hidden="true" class="header-anchor">#</a> node-dev</h2> <p>dev:development 测试环境
检测服务更新。自动重启服务</p> <ol><li>全局安装</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install node-dev -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>运行</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>$node-dev filename(要运行的文件)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><hr> <h2 id="express"><a href="#express" aria-hidden="true" class="header-anchor">#</a> Express</h2> <p>Express：迅速的快速的。</p> <p><a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>基于 Node.js 平台，快速、开放、极简的 web 开发框架</p> <blockquote><p>什么是框架？</p></blockquote> <p>Web（软件）开发中：</p> <ul><li>全新开发         --- 从打地基开始，一步一步的建造房子，从0开始</li> <li>基于框架的开发   --- 直接买人家开发商的毛坯房，需要装修一下</li> <li>二次开发         --- 买二手房，拎包入住，最轻松的</li></ul> <p>所谓框架，就是把一些基础的骨架搭建，只需要在这个基础之上，完成核心功能的。</p> <p>注意，express重点在两个地方：</p> <ul><li>针对http的封装</li> <li>提供了中间件的机制，可以引入很多成熟的第三方的中间件</li></ul> <h3 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install express --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="创建第一个express应用"><a href="#创建第一个express应用" aria-hidden="true" class="header-anchor">#</a> 创建第一个Express应用</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//引入express</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建express应用</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//提供一个请求服务</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello express!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//指定端口进行监听</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'port is 3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="应用生成器"><a href="#应用生成器" aria-hidden="true" class="header-anchor">#</a> 应用生成器</h3> <p>刚才我们是自己编写的js文件来实现http服务的。</p> <p>在实际开发时，我们的项目到底是如何组织的呢，因为一个完整的项目，必然有很多的内容需要处理。比如20个页面，还有对应的js、css、image图片等资源</p> <p>此时，我们可以使用express的应用生成器帮助我们完成项目的构建。</p> <h4 id="安装应用生成器"><a href="#安装应用生成器" aria-hidden="true" class="header-anchor">#</a> 安装应用生成器</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install express-generator -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>此处，我们使用的全局安装，这就意味着在任何地方都可以使用它</p> <h4 id="创建应用"><a href="#创建应用" aria-hidden="true" class="header-anchor">#</a> 创建应用</h4> <ol><li>创建项目结构</li></ol> <p>打开cmd窗口，进入自己的项目目录，如下:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$express 项目名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>安装依赖包</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>$cd 目录
$npm install
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>启动应用</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm start 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>或</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$node ./bin/www
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>浏览</li></ol> <p>在浏览器中使用http://localhost:3000 访问即可</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h4 id="项目结构分析"><a href="#项目结构分析" aria-hidden="true" class="header-anchor">#</a> 项目结构分析</h4> <p>疑问：我怎么就知道它在3000端口监听呢? 我需要编写自己的代码，该从什么地方入手呢？</p> <p>因此，我们很有必要，了解生成器到底干了些什么事情</p> <ol><li>整体结构</li></ol> <p><img src="/notice/dist/assets/img/60.1d51cf27.png" alt="image"></p> <ol start="2"><li>package.json</li></ol> <p>所有前端的一些项目，大部分都有该文件，统一的规范，该文件做了两件事情：</p> <ul><li>描述当前项目（应用）的一些信息</li> <li>保存了当前应用的依赖信息</li></ul> <p><img src="/notice/dist/assets/img/61.407ee4c0.png" alt="image"></p> <p>针对dependencies所列出的这些模块，是在项目创建时 通过npm install 逐个来安装的.</p> <ol start="3"><li>www文件</li></ol> <p>它是我们启动应用时的文件，也就说npm strat时执行的文件</p> <p><img src="/notice/dist/assets/img/62.1b275bb2.png" alt="image"></p> <ol start="4"><li>public目录</li></ol> <p>这是一个存放静态资源的目录，整个应用中所用到的image、css和js都存放在public目录下对应的文件中。</p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>而且，这个文件夹的名称可以自行更改，比如改成imgs、js、css等。</p> <ol start="5"><li>Views文件夹</li></ol> <p>这是存放模板文件，也就说视图文件的目录。项目中所有的视图文件都存放在这里。
Express，默认的是jade模板引擎，如下：</p> <p><img src="/notice/dist/assets/img/64.d7311717.png" alt="image"></p> <p>后面，我们会使用我们熟悉的ejs模板引擎。</p> <ol start="6"><li>app.js</li></ol> <p>它是整个项目的入口文件，注意不要和www混淆了。www是一个启动文件，启动http server。而这个项目到底有哪些功能，就看app.js了。</p> <p><img src="/notice/dist/assets/img/65.16f04a5f.png" alt="image"></p> <p><img src="/notice/dist/assets/img/66.9d0bf2bc.png" alt="image"></p> <p>其中<code>index.js</code>如下:</p> <p><img src="/notice/dist/assets/img/67.d88d272d.png" alt="image"></p> <p>其中<code>user.js</code>如下:</p> <p><img src="/notice/dist/assets/img/68.4aa4d445.png" alt="image"></p> <p><img src="/notice/dist/assets/img/69.ddb29ee1.png" alt="image"></p> <p><img src="/notice/dist/assets/img/70.f08e4898.png" alt="image"></p> <p><img src="/notice/dist/assets/img/71.b78583e0.png" alt="image"></p> <h2 id="路由"><a href="#路由" aria-hidden="true" class="header-anchor">#</a> 路由</h2> <h3 id="基本路由"><a href="#基本路由" aria-hidden="true" class="header-anchor">#</a> 基本路由</h3> <p>路由是指如何定义应用的端点（URIs）以及如何响应客户端的请求。</p> <p>给定一个请求（get和post），交给谁来处理。交给的过程就是路由。</p> <p>在express中，有两种方式：</p> <ul><li>针对应用级别，就是应用在app对象上的 <strong>重点</strong></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>针对Router实例对象的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>app.METHOD(path, [callback...], callback)</p></blockquote> <ul><li>app是express对象的一个实例， 如const app = express();</li> <li>METHOD是一个HTTP请求方法，如get和post ，如app.get 或 app.post</li> <li>path是服务器上的路径， 就是url中的路径部分，如 / 、/users</li> <li>callback是当路由匹配时要执行的函数。其中有两个重要参数，req和res，req是指incommingMessage ，res是指的serverResponse</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1.引入express</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.创建app对象</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设定路由</span>
<span class="token comment">//3.首页路由</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//此处的req，res和node的req，res差不多，但都增加了一些新方法</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//4.设定端口</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="路由方式"><a href="#路由方式" aria-hidden="true" class="header-anchor">#</a> 路由方式</h3> <p>源于http协议本身，http协议中规定了有哪些路由方式，那么express中就有哪些。</p> <p>目前一般就是如下两种：</p> <ul><li>get</li> <li>post</li></ul> <p>get的具体表现形式，直接书写url，href属性、src属性，表单<code>method=&quot;get&quot;</code></p> <p>post的具体表现形式，就是表单，同时要设置<code>method=&quot;post&quot;</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="路由句柄"><a href="#路由句柄" aria-hidden="true" class="header-anchor">#</a> 路由句柄</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对于该函数，必须要指定两个参数，分别是req和res。</p> <ul><li>req，指incomingMessage对象，表示请求的一些信息，这个信息我们只能获取，不能设置</li> <li>res，指的serverResponse对象，响应对象，可以做服务器端的任何事情</li></ul> <p>对于回调函数，可以使用一个，也可以使用多个。</p> <p>一个的情况比较简单。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>多个情况</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//第一个</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//第二个</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>在当前情况下，有两个回调函数，但是实际上执行的时候，并没有执行第二个。</p> <p>此时需要用到第三个参数 next ，需要在前面的回调函数中，调用 next（），从而执行下一个回调函数。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//第一个</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//第二个</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="req对象"><a href="#req对象" aria-hidden="true" class="header-anchor">#</a> req对象</h3> <p>它是回调函数的第一个参数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>它是incmomingMessage对象，表示请求的一些信息。在原生Node的基础之上，再增加了一些属性和方法。便于我们快速的开发。</p> <table><thead><tr><th>属性或方法</th> <th>说明</th></tr></thead> <tbody><tr><td>originalUrl</td> <td>请求的原始URL字符串</td></tr> <tr><td>protocol</td> <td>协议的字符串，如http或https</td></tr> <tr><td>ip</td> <td>请求的ip地址</td></tr> <tr><td>path</td> <td>请求的URL的路径部分</td></tr> <tr><td>host</td> <td>请求的主机名</td></tr> <tr><td>method</td> <td>HTTP方法，如get或post</td></tr> <tr><td>query</td> <td>请求的URL的查询字符串部分</td></tr> <tr><td>secure</td> <td>一个布尔值，当建立TLS连接时为true</td></tr> <tr><td>get(header)</td> <td>返回header值的方法</td></tr> <tr><td>headers</td> <td>请求标头的对象形式</td></tr></tbody></table> <p>上面只是列出了一部分而已，更多的需要查阅<a href="http://www.expressjs.com.cn/4x/api.html#req" target="_blank" rel="noopener noreferrer">手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p><strong>其中这个query做了一层封装，直接将我们的查询字符串转成对象，方便使用</strong></p> <h3 id="res对象"><a href="#res对象" aria-hidden="true" class="header-anchor">#</a> res对象</h3> <p>Res对象，是指serverResponse对象，响应对象。它在原生Node中的serverResponse基础之上，封装并新增了一些属性和方法。</p> <table><thead><tr><th>属性或方法</th> <th>说明</th></tr></thead> <tbody><tr><td>get(header)</td> <td>返回指定的header参数的值</td></tr> <tr><td>set()</td> <td>set(header,value)或set(headerObj)</td></tr> <tr><td>render</td> <td>渲染视图模板</td></tr> <tr><td>send</td> <td>发送各种类型的响应</td></tr> <tr><td>sendFile</td> <td>以八位字节流的形式发送文件</td></tr> <tr><td>sendStatus</td> <td>设置响应状态码</td></tr> <tr><td>json</td> <td>发送一个JSON格式的响应</td></tr> <tr><td>end</td> <td>终结响应</td></tr> <tr><td>redirect</td> <td>处理流程重定向</td></tr> <tr><td>download</td> <td>请求提示下载文件</td></tr></tbody></table> <p>详细的还需要查阅官方<a href="http://www.expressjs.com.cn/4x/api.html#res" target="_blank" rel="noopener noreferrer">手册<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>send方法</li></ul> <p>直接发送响应内容，可以是普通字符串，也可以是HTML字符串，不需要设置其他头。</p> <ul><li>sendFile方法</li></ul> <p>通常是用来发送文件的，如html文件</p> <p>发送的时候，需要注意文件的路径，确保路径是正确的。</p> <ul><li>json方法</li></ul> <p>发送一个json格式的字符串</p> <ul><li>download</li></ul> <p>可以提供下载的方法</p> <p>在html中，如果使用a标签，引入一个资源，这个资源能够被浏览器解析的话， 那么就直接解析，如果不能被浏览器解析的话，就会以下载的方式显示出来。</p> <p>有两个参数：</p> <ol><li>文件名</li> <li>显示下载时的名称，如果不指定，则就是文件名本身</li></ol> <ul><li>redirect方法</li></ul> <p>它是一个重定向方法</p> <h2 id="中间件"><a href="#中间件" aria-hidden="true" class="header-anchor">#</a> 中间件</h2> <ul><li><p>官方定义：中间件(Middleware)是一个函数，它可以访问请求对象(req),响应对象(res), 和web应用中处于请求-响应循环流程中的中间件，一般被命名为next的变量。</p></li> <li><p>民间理解：所谓中间件，就是一个回调函数。这个回调函数中，包含如下三个参数：req、res和next。和app.get方法中的回调函数是一致的。</p></li></ul> <p>中间件能干啥?</p> <ol><li>执行任何代码</li> <li>修改请求和响应对象</li> <li>终结请求-响应循环</li> <li>调用堆栈中的下一个中间件</li></ol> <p>在express中，有哪一些中间件？</p> <ol><li>应用级中间件，在app对象上使用的</li> <li>路由级中间件，在Router对象实例上使用的</li> <li>错误处理中间件</li> <li>内置中间件</li> <li>第三方中间件</li></ol> <p>重要提示：从本质上来说，一个 Express 应用就是在调用各种中间件。</p> <h3 id="应用级中间件"><a href="#应用级中间件" aria-hidden="true" class="header-anchor">#</a> 应用级中间件</h3> <p>所谓应用中间件，是指针对由Express实例化的app对象来调用的。</p> <p>如何使用中间件呢?</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">[</span>path<span class="token punctuation">]</span><span class="token punctuation">,</span>middleware<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//path变量是可选的，默认为/，这意味着所有的路径</span>
<span class="token comment">//middleware参数是一个函数，如function(req,res,next)</span>
app<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span>callback<span class="token punctuation">)</span><span class="token comment">//method指请求方法 get 或 post</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>针对app.use，如果路径省略了，就意味着所有的请求都会使用该中间件。</li> <li>针对app.Method，实际上就是路由，从这个意义上来讲，路由其实也是中间件的一种。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span>routes<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">,</span>users<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>next</code>参数会将控制权交给后续中间件处理</p> <p>中间件的模型如下：</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="路由级中间件"><a href="#路由级中间件" aria-hidden="true" class="header-anchor">#</a> 路由级中间件</h3> <p>所谓路由中间件，是指由express.Router实例化对象来调用的。</p> <p>首先，肯定要创建一个Router对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//得到router对象</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//在应用使用router中间件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//利用router来实现中间件</span>
router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;h1&gt;使用router对象是实例中间件&lt;h1&gt;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">linsten</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>实际上，在开发应用时，并不需要直接写在入口文件中，主要为了分离。</p> <p>切换场景， 在myapp中，增加一个新的页面</p> <p>首先，编写路由文件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;h1&gt;使用router对象是实例中间件&lt;/h1&gt;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>然后在入口文件中，载入这个模块，并使用它，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//载入list.js模块</span>
<span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./routes/list'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//将list中的路由挂接到app上，使用use即可</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/list'</span><span class="token punctuation">,</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//view engine setup</span>
app<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'views'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span><span class="token string">'jade'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在router对象中，也可以使用use，用法和app中的一致，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> router <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'router对象的use使用'</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
router<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;h1&gt;列表页面&lt;/h1&gt;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="错误处理中间件-（了解）"><a href="#错误处理中间件-（了解）" aria-hidden="true" class="header-anchor">#</a> 错误处理中间件 （了解）</h3> <p>它是专用于处理错误的。一般是在app对象上使用的。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.use([path],function(err,req,res,next))
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意:</p> <p>定义错误处理中间件时必须使用4个参数，即使不需要next对象，也需要声明，否则就是一个常规的中间件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>req<span class="token punctuation">,</span>res<span class="token punctuation">,</span>next<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>status <span class="token operator">||</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        message<span class="token punctuation">:</span>err<span class="token punctuation">.</span>message<span class="token punctuation">,</span>
        error<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="内置中间件"><a href="#内置中间件" aria-hidden="true" class="header-anchor">#</a> 内置中间件</h3> <p>express自身携带，可以直接使用的。</p> <p>有哪些内置的？</p> <p>4.0开始，在整个express中，就只有一个内置中间件。
唯一的内置中间件-- express.static，它负责托管静态资源。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app.use( express.static(root, [options]) )
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>root指提供静态资源的根目录</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用static托管静态文件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token keyword">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'index.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在html文件，路径只需要写相对路径就可以</p> <h3 id="第三方中间件"><a href="#第三方中间件" aria-hidden="true" class="header-anchor">#</a> 第三方中间件</h3> <p>真正开发的时候，使用第三方中间件是最多的。
是别人已经开发好的，被证明是好用的。如</p> <ul><li>body-parser</li> <li>cookie-parse</li> <li>express-session</li></ul> <h4 id="如何使用"><a href="#如何使用" aria-hidden="true" class="header-anchor">#</a> 如何使用</h4> <ol><li>安装</li> <li>引入</li> <li>app.use([path],中间件)</li> <li>调用相关方法</li></ol> <p>以获取post请求参数为例</p> <blockquote><p>原生node实现版本</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">{</span>
        str <span class="token operator">+=</span> chunk<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>querystring<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>使用express的实现版本</p></blockquote> <p>使用body-parser中间件来处理</p> <p>第一步，安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install body-parser

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第二步，引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第三步，需要对app使用中间件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span>extended<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>body<span class="token punctuation">.</span>Parser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第四步，直接使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr> <h2 id="会话机制"><a href="#会话机制" aria-hidden="true" class="header-anchor">#</a> 会话机制</h2> <p>会话机制是web的，不是express的。</p> <p>从日常生活中出发，会话的最好的理解场景 ---- 打电话</p> <p>再看一个典型的生活场景</p> <p><img src="/notice/dist/assets/img/74.ea00fa45.png" alt="image"></p> <p>回到我们的web开发中，在浏览网站时，如何记录用户的状态呢？</p> <ul><li>不同时刻浏览的</li> <li>浏览了当前网站中的不同页面</li></ul> <p>由于http协议本身是无状态的，任何两个页面之间的状态是无法维护的。需要会话机制
会话机制有两种：</p> <ul><li>Cookie：基于浏览器的会话机制</li> <li>Session：服务器端的会话机制，一般会用到cookie</li></ul> <h3 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> Cookie</h3> <p>Cookie意为“甜饼”，是由W3C组织提出，最早由Netscape社区发展的一种机制。目前Cookie已经成为标准，所有的主流浏览器如IE、chrome、Firefox、Opera等都支持Cookie。</p> <p>注意：</p> <ul><li>Cookie是基于浏览器的一种技术，</li> <li>不同的浏览器，所保存的cookie是不一样的</li></ul> <h3 id="cookie基本操作"><a href="#cookie基本操作" aria-hidden="true" class="header-anchor">#</a> Cookie基本操作</h3> <p>根据Netscape公司的规定，Cookie格式如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Set-Cookie: name=value;expires=date;path=/directory;domain=.xx.com;secure
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>name = value，名值对，表示cookie的名称。<code>必选</code></li> <li>expires = date，指定cookie失效的时间，如果没有指定，则cookie不会写入磁盘，只持续到当前会话结束（通常就是关闭浏览器）。该属性值DATE必须以特定的格式来书写：星期几，DD－MM－YY HH:MM:SS GMT，GMT表示这是格林尼治时间。反之，不以这样的格式来书写，系统将无法识别。</li> <li>path = /directory，只有访问/directory下面的页面时，cookie才被发送。如果指定了path，但path与当前访问的url不符，则此cookie被忽略。如果缺省，path的属性值为web服务器传给浏览器的资源的路径名。</li> <li>domain=.xx.com，指定cookie被发送到哪台计算机上。正常情况下，cookie只被送回最初向用户发送cookie的计算机。如果设置domain=xx.com，则cookie会被发送到任何在xx.com域中的主机。如果domain为空，domain就设置为和提供cookie的服务器相同。如果domain不为空，但它的值和提供cookie的web服务器域名不符，这个cookie将被忽略。</li> <li>secrue，如果设置了，则cookie只能通过ssl通道，即https。</li></ul> <p><strong>过期时间的格式有严格要求，必须是格林尼治时间，可以使用toUTCString方法转换之，如果没有设置过期时间，那么cookie将会在浏览器关闭的时候失效，也就是说此时cookie只保存在内存中。如果有设置过期时间，那么cookie将会保存到用户的磁盘中</strong></p> <p>用户磁盘存放位置 - 打开 Internet 选项 - 设置 - 查看文件</p> <p>如何设置，Set-cookie实际上是 http协议中的响应头信息。</p> <p>只需要使用res中的方法设置头信息即可</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string">&quot;content-type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;text/html;charset=utf8&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;set-cookie&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;username=nodejs&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'&lt;h2&gt;发送cookie&lt;/h2&gt;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="记录用户上次访问时间"><a href="#记录用户上次访问时间" aria-hidden="true" class="header-anchor">#</a> 记录用户上次访问时间</h3> <p>使用第三方中间件cookie-parser</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cookie-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//使用cookieParser中间件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookiepParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//获取当前时间</span>
    <span class="token keyword">var</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获取cookies</span>
    <span class="token keyword">var</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>time<span class="token punctuation">;</span>
    <span class="token comment">//不管有没有cookies都要重新设置</span>
    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token string">&quot;set-cookie&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;time=&quot;</span><span class="token operator">+</span>t1<span class="token punctuation">,</span>
        <span class="token string">&quot;content-type&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;text/html;charset=utf8&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'您上次的登陆时间是'</span><span class="token operator">+</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'您第一次进入该页面'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>Cookie是基于浏览器端的一个会话技术。</li> <li>cookie的数据存放在浏览器所在的电脑上。</li></ul> <p><img src="/notice/dist/assets/img/75.22487bf0.png" alt="image"></p> <p><strong>cookie设置之后，需要在下一次访问的时候才有效。</strong></p> <h3 id="关于cookie的具体操作"><a href="#关于cookie的具体操作" aria-hidden="true" class="header-anchor">#</a> 关于cookie的具体操作</h3> <p>cookie就是数据，肯定有CRUD。</p> <p>crud是指在做计算处理时的增加(Create)、读取查询(Retrieve)、更新(Update)和删除(Delete)几个单词的首字母简写。crud主要被用在描述软件系统中数据库或者持久层的基本操作功能。</p> <ol><li>设置cookie</li></ol> <ul><li>Cookie是服务器端来设置</li> <li>Cookie其实属于http协议中的头信息部分。</li></ul> <p>可以在响应中（res对象），来设置cookie</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token string">&quot;set-cookie&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;name=val;expire=&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>还可以使用res.cookie方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token string">'nodejs'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>domain<span class="token punctuation">:</span><span class="token string">'bawei.com'</span><span class="token punctuation">,</span>path<span class="token punctuation">:</span><span class="token string">'/domain'</span><span class="token punctuation">,</span>secure<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span><span class="token string">'1610A'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>expires<span class="token punctuation">:</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">864000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>httpOnly<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>获取cookie</li></ol> <p>cookie是基于浏览器端的技术，获取的时候，通常是在浏览器端来获取，具体来说对请求头信息中，它会携带这个cookie。有如下两种方法：</p> <ul><li>使用headers</li> <li>使用cookie-parser中间件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">var</span> cookies <span class="token operator">=</span> req<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>time<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>cookies<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//得到time值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>cookie<span class="token punctuation">)</span> <span class="token comment">//得到所有cookie字符串</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>删除</li></ol> <p>Cookie是有有效期的</p> <p>默认情况下，如果没有设置expire属性，它其实是保存在内存中的，当浏览器一关闭，立刻消失。</p> <p>如果设置了expire属性，它会保存到电脑的磁盘中，浏览器的关闭与否不会对其有影响。影响它的就是这个过期时间，如果到期了，cookie是不能使用的。这个cookie文件有可能还在会自己不定时的删除。</p> <p>我们还可以手动删除cookie</p> <p>程序删除</p> <p>是通过服务器放来删除，实际上就是res对象</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
res<span class="token punctuation">.</span><span class="token function">clearCookie</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">,</span>options<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//res.cookie('name','nodejs',{path:'/domain'});</span>
<span class="token comment">// res.clearCookie('name',{path:'domain'})</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="使用cookie完成登录控制"><a href="#使用cookie完成登录控制" aria-hidden="true" class="header-anchor">#</a> 使用cookie完成登录控制</h3> <p><img src="data:image/png;base64,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" alt="image"></p> <p>在这个过程中，需要保存用户登录的状态，就把用户是否登录保存到cookie中。所以，</p> <ul><li>在需要权限控制的页面中，去检测是否有登录标志</li> <li>在登录成功的时候，要保存登录标志</li></ul> <p>登录的标志命名为 isLogin</p> <ol><li>判断用户是否登录</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> cookieParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cookie-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">cookieParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/islogin'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>cookies <span class="token operator">&amp;&amp;</span> req<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>islogin<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//已经登陆跳转用户页面</span>
        res<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span><span class="token string">'user.html'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        <span class="token comment">//未登陆跳转登陆</span>
        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="2"><li>处理用户登陆</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> user <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
        pwd <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>pwd<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">===</span> <span class="token string">'zs'</span> <span class="token operator">&amp;&amp;</span> pwd <span class="token operator">=</span> <span class="token string">'1234'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//res.cookie('islogin',1,{expires:new Date()*1+1000*3600})</span>
        <span class="token comment">//maxAge设置需要保存多少毫秒</span>
        <span class="token comment">//推荐写法</span>
        res<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token string">'islogin'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">{</span>maxAge<span class="token punctuation">:</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="3"><li>用户注销</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/loginOut'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    req<span class="token punctuation">.</span><span class="token function">clearCookie</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    req<span class="token punctuation">.</span><span class="token function">clearCookie</span><span class="token punctuation">(</span><span class="token string">'pwd'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>关于cookie的有效期。通过expire来设置即可,expire是一个时间戳，单位是毫秒。
所谓的时间戳，相对于1970-1-1 那么一个时刻的毫秒数。
Date对象获取当前的毫秒数，然后再加上一个指定的毫秒数。</p> <p><strong>更好的方法是使用maxAge属性</strong></p> <h3 id="session"><a href="#session" aria-hidden="true" class="header-anchor">#</a> session</h3> <p>cookie是基于浏览器端的会话技术，有一些弊端。
每次浏览器都需要携带cookie数据去访问服务器。</p> <p>有时候，cookie保存的数据有点多，每次需要携带大量的数据，造成性能的损失
Cookie相对来说，还不是那么安全。</p> <p>基于cookie的一些缺点，就提出了一个新的会话方案 --- session。</p> <p><img src="/notice/dist/assets/img/76.7136ee8a.png" alt="image"></p> <p>SESSION则是将数据保存在服务器端的一种会话技术。</p> <p>虽然，session的数据保存在服务器上，但一般情况下，还需要结合cookie，将sesisson的唯一标识（sessionid）使用cookie保存起来。</p> <p>为何需要SESSION？</p> <ul><li>安全性</li> <li>性能</li> <li>功能更强大</li></ul> <p>我们使用第三方的中间件 --- exress-sesssion</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    secret<span class="token punctuation">:</span><span class="token string">'keybord ab'</span><span class="token punctuation">,</span><span class="token comment">//给session起的名字</span>
    resave<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    saveUninitialized<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    cookie<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//对cookie的一些设置，因为session默认是基于cookie的，不要设置secure:true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="session的设置和获取"><a href="#session的设置和获取" aria-hidden="true" class="header-anchor">#</a> session的设置和获取</h3> <p>使用req.session就可以完成session设置和获取</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/islogin&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//获取session信息</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>islogin<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> user <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>user<span class="token punctuation">,</span>
        pwd <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>pwd<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user<span class="token operator">===</span><span class="token string">'zs'</span> <span class="token operator">&amp;&amp;</span> pwd<span class="token operator">===</span><span class="token string">&quot;1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>islogin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'登陆成功'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'登陆失败'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>默认情况下，session的有效期就是浏览器的有效期，一旦关闭页面，session立即失效。</p> <p>如果需要设置其有效期，可以使用cookie的有效期来控制，可以在use sessioin的时候，指定cookie的选项。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    secret<span class="token punctuation">:</span><span class="token string">'keybord ab'</span><span class="token punctuation">,</span><span class="token comment">//给session起的名字</span>
    resave<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    saveUninitialized<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    cookie<span class="token punctuation">:</span><span class="token punctuation">{</span>maxAge<span class="token punctuation">:</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token comment">//到期时间</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>当前设置的时间比较短，一旦到期，session就失效。</p> <p>SessionID，会话的唯一标识，是以cookie的形式保存在浏览器端的，可以查看的。</p> <p><img src="/notice/dist/assets/img/77.8f9daee8.png" alt="image"></p> <p>也可以设置得更长一些，比如一个小时</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    secret<span class="token punctuation">:</span><span class="token string">'keybord ab'</span><span class="token punctuation">,</span><span class="token comment">//给session起的名字</span>
    resave<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
    saveUninitialized<span class="token punctuation">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    cookie<span class="token punctuation">:</span><span class="token punctuation">{</span>maxAge<span class="token punctuation">:</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">3600</span><span class="token punctuation">}</span> <span class="token comment">//到期时间</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>那么，在一个小时之内，不管你是否关掉浏览器了，我们都可以继续访问。</p> <h3 id="销毁session"><a href="#销毁session" aria-hidden="true" class="header-anchor">#</a> 销毁session</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> session <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-session'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    req<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//销毁全部</span>
    req<span class="token punctuation">.</span>session<span class="token punctuation">.</span>islogin <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//销毁单个</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>有了session，我们在实现登录控制的时候，一般都使用session。</p> <p>Cookie是针对用户没有登录的时候，去记录一些信息，如浏览记录，观看记录，购物车保存的商品等。</p> <hr> <h2 id="ejs"><a href="#ejs" aria-hidden="true" class="header-anchor">#</a> ejs</h2> <p>&quot;E&quot; 代表 &quot;effective&quot;，即【高效】。EJS 是一套简单的模板语言，帮你利用普通的 JavaScript 代码生成 HTML 页面。EJS 没有如何组织内容的教条；也没有再造一套迭代和控制流语法；有的只是普通的 JavaScript 代码而已。</p> <p>如何将数据和html模板页面结合起来，形成动态的页面 ，在后端开发中，是普遍存在的问题。</p> <p>针对这个需求，就提出了一个解决方案 --- <code>模板技术</code>。</p> <p>不同的语言有不同的模板技术，原理都是差不多的。</p> <p>针对js而言，目前有如下两大模板技术比较常用：</p> <ul><li>ejs模板</li> <li>jade模板</li></ul> <p>ejs模板相对来说，更容易上手。</p> <p><strong>出于开发和维护的需要，应该将数据和html模板分离开来。</strong></p> <p>在开发层面，html页面是前端来开发的，而后端只负责具体的业务逻辑，然后需要将数据和html页面结合起来</p> <p>在维护层面，分开来处理，更利于维护，代码具备可读性，维护性比较强。</p> <p>最终，代码在执行的时候，需要将数据和html结合起来，这就可以通过模板技术。</p> <p>原理如图所示：</p> <p><img src="/notice/dist/assets/img/73.d51b1590.png" alt="image"></p> <p>其中，data就是js对象。</p> <p>而template就是模板页面，在页面中，使用了特定的模板语法，来动态的输出数据。</p> <p>二者一结合，就形成了最终的html页面。</p> <ol><li>安装ejs</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>$npm install ejs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>将数据和html模板结合到一起</li></ol> <p>站在node.js代码的层面，先要获取数据，然后使用render方法获renderFile方法，将数据和html模板结合到一起</p> <ul><li>render 方法使用</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//获取ejs模板</span>
    <span class="token keyword">var</span> html <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./tempalte.ejs'</span><span class="token punctuation">,</span><span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//调用ejs render方法获取最终的html代码</span>
    html <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>html<span class="token punctuation">,</span><span class="token punctuation">{</span>
        data<span class="token punctuation">:</span><span class="token punctuation">{</span>
            title<span class="token punctuation">:</span><span class="token string">'ejs'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//通过res输出到页面中</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>template.ejs 如下：</p> <div class="language-ejs line-numbers-mode"><pre class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h2&gt;&lt;%= data.title%&gt;&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>renderFile 的方法的使用</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> ejs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>res<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//获取ejs模板</span>
    <span class="token comment">//var html = fs.readFileSync('./tempalte.ejs','utf8');</span>
    <span class="token comment">//调用ejs render方法获取最终的html代码</span>
    html <span class="token operator">=</span> ejs<span class="token punctuation">.</span><span class="token function">renderFile</span><span class="token punctuation">(</span><span class="token string">'./template'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        data<span class="token punctuation">:</span><span class="token punctuation">{</span>
            title<span class="token punctuation">:</span><span class="token string">'ejs'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//通过res输出到页面中</span>
        res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>可以省略readFile的方法</strong></p> <ol start="3"><li>ejs的模板写法</li></ol> <p>所谓的ejs模板语法，就是指在模板页面中，如何输出数据。</p> <p>所有的模板技术，都允许在模板页面中使用后端代码</p> <p>在ejs模板中，可以直接使用js代码来输出内容。</p> <p>具体的语法有如下三种：</p> <ul><li>执行语句： &lt;% %&gt;</li> <li>显示： &lt;%= message %&gt;  显示变量message的值</li> <li>include：&lt;% include 模板文件名 %&gt;</li></ul> <p>如下数据，需要在模板页面输出：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span><span class="token string">'ejs'</span><span class="token punctuation">,</span>
    web<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'html'</span><span class="token punctuation">,</span><span class="token string">'css'</span><span class="token punctuation">,</span><span class="token string">'js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    open<span class="token punctuation">:</span><span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-ejs line-numbers-mode"><pre class="language-text"><code>&lt;h3&gt;&lt;%= data.name%&gt;&lt;/h3&gt;
&lt;ul&gt;
    &lt;% for(var i=0;i&lt;data.web.length;i++){ %&gt;
        &lt;li&gt;&lt;%= data.web[i] %&gt;&lt;/li&gt;
    &lt;% } %&gt;
&lt;/ul&gt;
&lt;p&gt;
    &lt;% if(data.open){ %&gt;
        nodejs
    &lt;% }else{ %&gt;
        pc端整合
    &lt;% } %&gt;
&lt;/p&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><strong>注意：&lt;%  、%&gt;  &lt;%= 是必须要连在一起写的。</strong></p> <hr> <h2 id="数据库"><a href="#数据库" aria-hidden="true" class="header-anchor">#</a> 数据库</h2> <h3 id="什么是数据库"><a href="#什么是数据库" aria-hidden="true" class="header-anchor">#</a> 什么是数据库</h3> <p>微信用户信息、淘宝商品数据、百度收录的信息、12306火车票信息都放在哪儿？</p> <p>为了提供和使用这些信息，需要将这些数据保存起来，然后在需要的时候，提供各种操作。</p> <ul><li>数据库（Database）是按照数据结构来组织、存储和管理数据的仓库</li> <li>数据库，简单来说是本身可视为电子化的文件柜——存储电子文件的处所，用户可以对文件中的数据进行新增、截取、更新、删除等操作。</li></ul> <p><strong>数据库的本质，就是高效的保存和操作数据。</strong></p> <h3 id="数据库类型"><a href="#数据库类型" aria-hidden="true" class="header-anchor">#</a> 数据库类型</h3> <ol><li>Mysql</li> <li>oracle</li> <li>sql server</li> <li>mongodb</li></ol> <p><img src="/notice/dist/assets/img/79.11e1dc3b.png" alt="image"></p> <p>数据库基本上分为两大阵营：</p> <ol><li><p>关系数据库
和excel差不多。
<img src="data:image/png;base64,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" alt="image">
其实，所谓的关系数据库，就是以二维表的形式出现的。
表 + 行 + 字段</p></li> <li><p>非关系数据库</p></li></ol> <p>不是二维表的结构，比如key-value，比如json格式</p> <h3 id="nosql"><a href="#nosql" aria-hidden="true" class="header-anchor">#</a> NoSQL</h3> <p>NoSQL最常见的解释是“non-relational”，“Not Only SQL”也被很多人接受。</p> <p>记住：非关系数据库，和关系数据库对应</p> <p>NoSQL的优势：</p> <ul><li>易扩展</li> <li>大数据量，高性能</li> <li>灵活的数据模型</li> <li>高可用</li></ul> <p>重点理解第三点：灵活的数据模型</p> <p>关系数据库的结构一旦定义，是不能去随意更改。</p> <p>非关系型的结构是可以随意更改的。</p> <blockquote><p>Nosql的出现不是取代关系数据库，而是弥补关系数据库的短板。一个完善的产品通常会结合多种数据库。比如，淘宝至少用了oracle，mysql，mongdb。</p></blockquote> <h3 id="什么是mongodb"><a href="#什么是mongodb" aria-hidden="true" class="header-anchor">#</a> 什么是Mongodb</h3> <p>Mongodb是nosql中比较流行的一款数据库。 2009年MongoDB是一个基于分布式文件存储的数据库。由C++语言编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。是非关系数据库当中功能最丰富，最像关系数据库的。支持的查询语言非常强大。</p> <p>特点:</p> <ul><li>易使用</li> <li>易扩展</li> <li>易部署</li> <li>高性能</li></ul> <h2 id="mongodb快速入门"><a href="#mongodb快速入门" aria-hidden="true" class="header-anchor">#</a> Mongodb快速入门</h2> <h3 id="安装mongodb"><a href="#安装mongodb" aria-hidden="true" class="header-anchor">#</a> 安装Mongodb</h3> <ul><li><p>下载mongodb，<a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>创建一个mongo目录，作为安装位置</p></li> <li><p>安装到mongo目录下</p></li></ul> <p><img src="/notice/dist/assets/img/81.0ee111b0.png" alt="image"></p> <p><img src="/notice/dist/assets/img/82.cca98f33.png" alt="image"></p> <p>注意：就算使用默认的安装路径，最后也要看一眼安装到什么地方去了</p> <p>安装完成后，查看安装目录，如下：</p> <p><img src="/notice/dist/assets/img/83.6b73deff.png" alt="image"></p> <p>对bin目录需要了解一下</p> <p>bin其实是binary的简写，一般bin目录下存放的都是一些以.exe结尾的一些工具。</p> <p>Exe是指可执行文件。</p> <p><img src="/notice/dist/assets/img/84.9a4aa38f.png" alt="image"></p> <p><img src="/notice/dist/assets/img/85.1874d508.png" alt="image"></p> <ul><li>在mongo目录下创建data目录，用于保存数据（必不可少）</li></ul> <p>要使用，首先需要开启服务，需要在mongo安装目录下创建一个data目录，如图：</p> <p><img src="/notice/dist/assets/img/86.2ed579ed.png" alt="image"></p> <ul><li><p>打开cmd窗口，进入bin目录</p></li> <li><p>使用mongod --dbpath=d:/mongo/data 启动服务</p></li></ul> <p><img src="/notice/dist/assets/img/87.958e8c53.png" alt="image"></p> <p>我们可以在浏览器中，输入 http://localhost:27017/ 访问</p> <p><img src="data:image/png;base64,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" alt="image"></p> <h3 id="mongo基本概念"><a href="#mongo基本概念" aria-hidden="true" class="header-anchor">#</a> mongo基本概念</h3> <p><img src="/notice/dist/assets/img/89.c96256a4.png" alt="image"></p> <p>关系数据库和nosql的 不同在于数据的组织以及描述是不一样的，当然CURD也是不同的。</p> <p>关系型数据库，说白了就是二维表，其构成是 数据库 +  表 + 行</p> <p>Mongodb，核心是文档，面向文档的。如何看待这个问题呢？先看看js中，如何描述信息，以用户为例。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//描述一个用户的信息，包括编号，姓名，性别，信息</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token string">'zs'</span><span class="token punctuation">,</span>
    sex<span class="token punctuation">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    info<span class="token punctuation">:</span><span class="token string">&quot;信息&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在mongodb中，一个js对象（json）就表示是一个文档</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//需求再进一步，需要保存多个用户</span>
<span class="token keyword">var</span> user <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token string">'zs'</span><span class="token punctuation">,</span>
    sex<span class="token punctuation">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    info<span class="token punctuation">:</span><span class="token string">&quot;信息&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token string">'ww'</span><span class="token punctuation">,</span>
    sex<span class="token punctuation">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    info<span class="token punctuation">:</span><span class="token string">&quot;信息&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    id<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span><span class="token string">'xm'</span><span class="token punctuation">,</span>
    sex<span class="token punctuation">:</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">,</span>
    info<span class="token punctuation">:</span><span class="token string">&quot;信息&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>在mongodb中，将多个文档构成的对象，称之为集合。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//需求又发生了变化，在一个系统中，需要有多个集合来保存我们的数据</span>
<span class="token keyword">var</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> goods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> orders <span class="token operator">=</span>  <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在mongdb中，将多个集合构成的整体，称之为数据库。</p> <p><strong>在mongodb中，三大概念就是 数据库+ 集合+ 文档。文档是核心，也是基础</strong></p> <h3 id="mongodb-shell"><a href="#mongodb-shell" aria-hidden="true" class="header-anchor">#</a> MongoDB shell</h3> <p>shell俗称壳（用来区别于核），是指“提供使用者使用界面”的软件（命令解析器）。它类似于DOS下的cmd.exe。它接收用户命令，然后调用相应的应用程序。</p> <p><img src="/notice/dist/assets/img/90.69400525.png" alt="image"></p> <h3 id="入门命令"><a href="#入门命令" aria-hidden="true" class="header-anchor">#</a> 入门命令</h3> <p><img src="/notice/dist/assets/img/91.9bad1381.png" alt="image"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$show dbs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查看有哪些数据库</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>$use 数据库名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>切换到某个数据库</p> <p>use 还有一个作用，就是可以“创建”一个数据库。</p> <p>注意：此时并没有真正的创建数据库，因为mongodb 只会在真正的插入了数据后，才会真正建立起来。如果直接离开，则该数据库会被废掉。</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>$db.dropDatabase()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除数据库 db指向当前数据库</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>$show collections
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显示集合</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.createCollection(集合名)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建集合</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.合集名.insert(数据)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>隐式创建合集</p> <hr> <p><code>db</code>就表示当前数据库
从db到collection，再到文档，中间是使用对象的语法来访问的，也就是点。换句话说，db就是一个对象，它包含许多的属性，每一个属性对应一个集合。同理，集合也是一个对象，也有很多属性，每一个属性对应一个文档。</p> <p><strong>文档基本操作</strong></p> <p>首先，要确定是文档就是json，也就是对象。</p> <p>针对其操作，最基本的有</p> <ul><li>增加</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.insert({id:1,name:&quot;zs&quot;,sex:&quot;男&quot;})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>查询</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.find()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>修改</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.update({id:1},{name:&quot;zs&quot;,sex:&quot;女&quot;})
//1.指定修改条件
//2.要修改的内容
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>删除</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.remove({name:&quot;zs&quot;})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们在定义文档的时候，需要注意：</p> <ul><li>MongoDB区分类型，区分大小写 {&quot;foo&quot;:3} 、 {&quot;foo&quot;:&quot;3&quot;}和{&quot;Foo&quot;:3}是不同的，类型存在隐式转换特性</li> <li>MongoDB不能有重复的键</li> <li>文档中的键值对是有序的，{&quot;x&quot;:1,&quot;y&quot;:2} 和 {&quot;y&quot;:2,&quot;x&quot;:1}是不同的</li> <li>文档的键是字符串，不能含有\0、.和$等字符
<img src="data:image/png;base64,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" alt="image"> <img src="/notice/dist/assets/img/93.5ae65a56.png" alt="image"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu8AAACkCAIAAACo4VeAAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAgAElEQVR4nO2dz4skyXXH3+xOsxs9aNB0iEULCbsSZMMkSLmHNdRJ6n/AwtB1qYNBF9+MDva569DlqxHCR/8BdXA12OhsqJUuBTbYqUMNdCGsNQkrBNkjj9hKhl4xPlRXdlZmROSL/FVZWd8PA9MVFfneix8V+fLFjyQiIqL5fE4AAAAAAAcKXBkAAAAAHDBwZQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoDckW8awdwwAAAAAh0fGg4FDAwAAADQCbrEJ8/m8xtpQikJtAwAAALXz3sXFRelbbHL7r9cPaIcabT7E4gMAAAB9o4pDU1HCXqjdbP6k0mFVFAAAANB93tv8VyVCc9BcXFzs2wQAAAAAVOJp8tfGoeHc3QsDD4VCMtmUH9OG5dM3iUlK2hsza89EZfLC05cneQzfAgAAAKBbFN6hdVMq6bUjnNu8QY5VegnVhmz59MyaGI49ZjPgAwEAAAD18l76AzM2oyO5tsZ5K6Y9adW16C1hAwAAAAD2wuNMU0VXpi4ynhBmdgAAAABg5sGb6YgrsyHjwTQad2kI3SKkTtUzAAAA0A/eowq3WMMal/TqWqu1OBUXvqQztBbLQdAIAAAA2CNPSrgy+Z1ESSgiv6cpn1IoJ51HN9OU2dOky6yMjigvUaZntjIZPirVZeoWgRkAAAAAHB62m60AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALCHubG56cWtWDzLxLBJvnVbQG/J96t6O5it2I708zaPgQAAWNCRoaQjQ1X3gSsDWkDXr+rqZgfqyiR0xAwAjpynxVkqYzhyZi9kjo2xuqr2UhiOzCm8sNwLz5VH9VipZqKs53L2WFV+/lwic7qtHFt7CoXrVHDqrYQ9tvWgQ3fgdT/ocdEA6D8NzTEVxmPTGVoL/GR0FaprNKrMrx/dJbYP0MpsNZZRWc98e5RfWfVP87Wc5tZ9NNtjqENlP1fKzwtpun6URhYKr95bbH/vTY8PpKl/c/6GLAEAlGSPP8t2VBt8gn0ZwNRuezO2ysnxNmxhehWFem3tadqbMV9YrpicRKbAih2pxM+hr/dy1AAAh8V7+zagHqyepUCP0c0OtDxr0NlJCqZhnbW/HBgfAOg9ja+bSQaRwlcmdYG5Zv2BshRp+5XrKtLpmafeckteymFoAtKsD1AaqZNjls+3h9NVrFQri6ZMz8tJLwrh5De0b2E4p2K9lc4/3307bPqPvXszaeM7YhIA4DBo1LfIC7eNkDdtRvrpjRPVN9jPzMY0zEqOWbLyqrxkZT1U/LuKTNtL8leZ063kGOzJfyyRgXMhxwBzuxvqR2mMgRKX2EpuTgVHe+2ZAQCN08LApEtpZzgwmMGxx/YuwjGg0DC+eRxqufsyHYX5FqUcnfxMerl6Zgo3y+F4BhXrk6Odb5vOgNK9jkOjv1yD8U3D1wtXBoAu0MYO7b5ybKPYfBvwV95B8+l7nxrQbSHmbC1OZzjQrci6dkk40HIBAECenqwC3gsXu7SsmulL1eVybW57yhUtVsW3DdLY0rT8fWFrv6G9arLoUUuNAgEAoByd8Gaqj7DMiHTGCZhrDigrMUYn1+ZVmPNbCa8Is1zmeigxbaHTy0nX+W3Mei7EVg7fj8zTRDum7bFqr4aocW4occhaGx8AAIfLk/SHJp60DLMPeQ+gtHary9N604mFZui8n/wlShVKU6vUj613oous5FN06pTG6NJJ0y46eworjXmJrl1s28sqf7l25PgfeRWFnSqTaOhyHPt16LpfLcNIxnimSYXS+JkTCq9qYtgEAFQFDzEZ0rXRwZrpoEngGDB0vOPpkxgtAegOT4qzMND9pHvwyGJ4QAcAZECgAgAAAAAAAAAAAAAAAAAAAAAAwAHDXNeW5GloEVzT8ntDpn5Qb6AJ8v2q3g5mK7Yj/RyrgAHoKB0ZSjoyVHUfuDKgBXT9qq5udqCuTEJHzADgyGnjzQZWhz20QLkTLBoqRYlzPpILrQ6byajQpdeIsp4Neg3bx0qfF8I8P8ZKjq09hcJ1Kpj1VtqefBeyknPR0xcjYBsjAAdPQ3NMhfHYdIbWAj8ZXYXqGo0q8+tHd4ntA7QyW41lVNazwTyD2VZdomK1FMoptMdQh8p+rpSfF2IwuNxPxqDCqrB8jTozrES1OT4wtTQ3LAAASrLHn2U7qg0+wb4MYGovMcjycxq8jdJwDC7h5ZTWW5c3Y76wMBvfJ2AaXKVjcOqfI4eZ8yCANwPAgdKJ9zRVJ/+gCY4T3dRAy1MGHZ+hmPdxhsgAf3w4qmoBoE80vm4mGUQK30fTBeaadQPKUqTt57/HR6dCZ0x1DE1Amhub0kidHLN8g1Xp/OlFGHmTyqnW3bM58m3tMbRvYTjHdj1QxfwH4cqkjef/ZGq3ofsVBQDI0qhvkRdeOrLdkBnppzdOVN9gf4kAvm398KvLYIxOsrIeKv5dWEBdzkwKv56Z8m3lGOzJfyyRgXMhx4C68hTCz2lL4e+xOXT9x5C/KVMAACVoYWDSpbQzHBjM4Nhje4fgGFBoGN88DrXcfZmOwnwLRyxp6rBcPZvzGOSXtkcnrXQ7MjuSbXtx/i7UXi5nCWy9itq115gNANAobezQ7ivHNorNtwF/5Z0vn1564qmurb86ORz5TdjTMub2yuRpz6zD4UDbHYDjBN5MefY4zPHH2bqGY52crg33h2KnLbb26/JnFvRUrJNDr9U8/SsRAEdCJ/Y0VQ9yMCPSmefUzMiVjt7bjmjJtXkV5vxWwivCd4AM+fklqlKfCfnQgjK9dBXZytHZw6GJdkzbY9VeGQrl8G2rt5hVKjwtqi6rAADd5En6QxPPJYbZh7wHUGUM5V+e1ptOLDRD5/3kL1GqUJpapX5svROlMUqZOnVKY3TppG+Xwvsusz51TamUYyvfKn+5duT4H3kVhZ0qk6hrF50K/u9ImbOWYSRjPN8qszR+Zr7SJoZNAEBV8BCTIV0bHayZDpoEjgFDxzuePonREoDu8KQ4CwPdT7oHjyy2D2oAHDMIVAAAAAAAAAAAAAAAAAAAAAAAADhgmOvakjwNLYJrWn5vyNQP6g00Qb5f1dvBDn08sZVflz1dK1fT8pn5sTobtP1T3Jf83gBXBrSArl/V1c0OfTyBK9OO/NL5wZHQxlnA82pnydRO0sutTGqoFJmfHF8+c/NI/id9sX0vtDK9RsrVs0FUxfNCdOm2cmztKRSuU2E4IYZURbO1R9mFmP2KcPB/Ebb9rV6Nbeqtl/brDfQQjjNbwmEvjPulM7T2QJDRVaiOk6cWq5iqdQ/KunTO5TWWUVnPhsyGPFZdomK1FMoptMdQFmU/V8rPC6mrfgx2mvXqCsvXqDPDLKpin2xtPDG3Vz5bRXts9dYlvy5aqLeGLAeHwR6bvx3VeS1N/2gLDWBqLz1IcXIqb9UVsTW4dM0w9Va0h9lPOPfmcolMgVYdoxYHpdEfTss/zxqpy6sorffgamxDjfV2oDUAStOJ9zRVRzc0g2NDF5puOWTd8Qj5/NBmiFq2tvp4cljVWxeoN7BHGl83k3TuwvfRdIG5Zv2BshRp+/nv8dGp0BlTHUMTkObGpjRSJ8cs38okq/ovVK27Z+fT83LSi0I4+Q3tWxjOsV0PVDH/QbgyzPqssi6qNVqucE4YD/UG+kw7EWNdSjuejcGM9FMFZzgw2M/MxjTMSo5ZsvKqvGRlPVT8uzCbQa+tuvxV5nQrOQZ78h9LZOBcyDHANk+hPTps81cUzixLo1bx0fXDRjVm/jB/7He9daQ4oB0eZ5ouUq+rPU4yz+XlhMx3nyf2/myRMSY/eOUtVNZDPghRmD7fknkQ1NWPrv458ZVMnouLC2Uj5tMNcjZf5eXU2KbK+ldibkdDfk6Lg4bQ9UNgppZ6Q1c/NtrYod1Xjm2Qmm9j/srnuUbv+uW40Gwh1qWnSWfg5O8g5vbK5GnPrONjL/2nB216oL87sC/gzZRnjz8z/u+8ruFAJ6drw82h2GmLrf26/IY4WQtWHQ+omXKg3kBpOrGnqXqQgznPap5lmKfmkm1/UekZmfyzryG/lfCK8B0gQ35+iZRyDPXDyZ/ArOdCbOVUCYA30Y5pe6zaqyGYv8SO034pUG8AVORJ+kMTfnGmcyu9h2RELq3d6vK03nRioRk67yd/iVKF0tQq9WPrnSiNUcrUqVMao0snfbvkTTLXv64IuqZM/q7SXlb5y7Ujx//IqyjsVJlEXbtkVBiKoETX/WoZRjj1yUwvrb0WIXx7qteboYcY7Dn0ejPIqf12Bg4JONcZ0rXRwZrpoEngGDB0PPTJcqDe6gJ3sePkSXEWBrqu0wPXuMYHFwB6Dx6Iy4F6AwAAAAAA4KipJzYDAABm7geDfZsAGuRksdi3CeCo6cSeJgAAAACA0mS9Geb6qSRPQ4utmpbfGzL1g3oDTZDvV+hgAIDuwhyh4Mp0BLgyoAV0/cq2m90PBpt/TPm29nSNQy8X0wxdswLQMm2cBVzLIQQ1Yj6VwXxV7aUwnKtReKHVYTMZFbr0pimn16ry6zpXw5C/emcorIe5/nCjfP5y9hhUcERd9Prg+f4VDdszwRHR0BxT4exVOkNrgZ+MrkJ1nDy1WMVUzQzM6CQrszVaRoNe5iVWmc3Xcppb99Fsj6EOlf1cKT8vxGBwuZ9MRkVhvekKy9eofIi3Nb7p8YE09V9CSOaPevOXtoevhWkJYjOgizR9J9u7aoNPsC8DmNpLDEb8nIa7WqPUOKTq8tfuzZgvLMzG9wmYBlfpGBxvhiOHmfOwbnt7HAybAN4M6D092dNU/VkK9ANdCL3l0HrHI/nz3k2jmOnr+NDXcgFQgsbXzSQ/tsL30XSBuWb9gbIUafv57/HRqdAZUx1DE5DmxqY0UifHNl2nl9NVKqrgq04vCuHkN7RvYTjHdj1QxfxKjV1zbtLG838yHSfTIrYNWoUe1B4AXBr1LfLCS0e2GzIj/ZSjM4YZmWdmYxpmJccsWXlVXrKyHur626BX93cJFZmrzOlWcgz25D+WyMC5kGOAbR6OSRUz205JFNrZKA0pLf1Dbs6Gijkx0wS6SHM/rRKjfMtmcOypcocwf2tbP6Wrq5a7L99R0KUb7Ge6C5wa4NS22ZLC/BXrk6Odb5vOAJ39hZ2cQ3PeDOk7VQu0MBj2wJWh/ngzcjoY3PuOt2879oZ0731/LNvSNfDHQve1GPtl2qKNHdp9ZV/j7L6YbwP+yjsoP91Wfml0W4g5W4vTGQ50K7K5XTJ5ko8HV0zAB+2rRZ4NKZ7chst9G7JPxHoZtaHHE6cUhdex7vt4uabZnXVbwJspzx7HBf79ta7xSyfHNt1Wvi112dM16qrPzIIew8cmrAK0v5VAaCwDwzNJ0Up5f/WkpCg6Ci8njlspphhKmtxu/CY5HbjDh/RotKKpu40OycHQJSJahoEfah2fNJ3Y01T9WZwZkc48p+ZHc2U60wCdCnN+K+EV4TtAhvy2Jao4c6EL1TDruRBbOVVCR020Y9oeq/YyyORfpZRTbzFridVVt6rGctUI36q62rcPSDeZHdv8CxznUirSH7513cA0LQIsEfJSiCt/U70urRYni4UfxsswnEWrk8XiZLEYRTRbLU4WwSSObyKWK0OZd2g34bznb075r6o/rFhdntabTiw0wzAiZC5RqlCaWqV+bL0TpTFKmTp1SmNs03WWm/Mri6BryuTvKu1llb9cO3L8j7yKwk6VSTTUZ8YwXRGU6LqfLj1ZWsF52XLGeI49HGn8zAnmxiptTy2i+OWqsX0zWDVrN/EcP5CRHxzNNJNwAqtVKdHqZFXbFJTn+FdxMNqRJ8b+Od0GSWxs6A4u7xajKJtuB9/ZPxLStdHBmumgSeAYMHQ83VeHvly0xt9ax3+2VneBQ29WIjlNh16EEwwGgdPrUIxwgsf5nS3SVSy8VeashJwqtfiOp4mNbUI4HBuy62bKPTHoun7tkZ69UMvTYUN00CRwDDDjl72h/WjKHum4efUydN1htDrZefqPJvqFGkN3MJU0Wy1G68cIx2y12AQbNt8SEVE8CTJBBTH2/avETYrDdDToUWy0u5RksZrtGuA5fsrZelhrsru4xKRov3iOMxRiOHC2CdFosVpKSdHtMopPotUmtVxspp5VwD3u/T0uGgC109ffS13l6mv9HCrSncpotLCeRvEc/148xm+G7oAoeOWkfAgSV767THyR/OSOcIKBzHo8Z+69m94kLacDokeHZtdN2WRwdy1jKtoLwrmi25NFTNK9P7vbzl6JsaSb23iT4dH4h1XA8YQtvhOrgAEAAIA0t5999o+ffPKTFy++/f77TcgfuoN793QSZIMfuwhPNenkCTFbLTZLVjdBkaHrX4l4EmwSg0lMRPLqIYgixueOR0Rx6C8WyUJXInF1vuN5DKWk7UrYkwcnRl5u3Zuhu3FlotFWSKI9sZapaD/E4SgX9PKc86tkUfA5jXZXAY9Wt3wnDDu0AQAAdI7vffjhzz7++Gcff0xEX7x58693d79+8yZYr2sSL7xTWoa313E+4EHTgZymPuY3CSdTS0S0DMOZ4w53ZoXiWRRfJfNBQl5uvJDUjM9sFXin/pVwrmSYiEqLJYomoTN0hCcEUbx1a2KT+8VW1B2W4a0fxct4M7uUmRGLZzYGZ2MzzPVfSZ6GlrM1Lb83ZOoH9QaaIN+v6u1gtmIPpZ8faLk6uBfkx8+f//zTT//zhz/8w+ef//P3v//X3/lOtYCNGPv+JW0clPg6eAx1nAThcjf4kYt/sFjGa9ocE0dEp8Ijouhu1wuJZ1FMRJ7QrjjeCHlAng2JjIfOWSmS08xKW1duVkDvJNZ8OPJWqSsf98O7p8uYiIR3GnvOg96ppKFrtwSYMrEZ5kq3JFtDK/6alt8b5rkd46g3UDvKfnVR3/nItv32UPr54ZarI2YoefH06U8/+uinH31ERP/99de/evPm316//tWbNzYy5HTgvAoWI+lPizP3ldz6YuneO3F2vbBwAr/G7V3RaBGNNrqSdTPSGQu6joloPQmCjUnbVcB20tuYaeraMv5ye5QaKkXmGYgvnz9EZlKSoUqZ3gJp1fnDVJT2WFW+Ur4h3VaOrT2FwnUqdMbn85ezx6CCI6pGh6ZT2NbDYdHxJvv2++//6Pnzv3zx4sfPnxdm/uzZs8+ePfvZxx+//uabL968+eLNm1++fv3l27ema4QT+GKyCGZE+19Hsjei0YJ37G8c+qpThDY7sPin9JpY00spKJKXFBsXMBVj7c008QCRHotbC/xkdNGeRi5OYTnmGepNd2H+TtZCPejiSQa9Vl2CGa8qFGXIb7bHUIeZr3SeRN5xyedXmmr1k8loKay3pn+PfO+8tfGhipaulYv2PXtl5kfPn//4+fOfvHjx2bNnJS5/8fTpX52dffbs2Zdv3xZ4M5rbc7Os4yWRJ8+Gqyh1wxZDKYhoGfMcArWQUoqqvsHgYWGyJ6UXVt77HUevhPROhbemq8HgcVJp+2YDIu7xfdZ7mgrvPcpLzJnT35aQzyczUlzYnEFcWAqmASWuUt4ydS4L00jlkL0Xf84Mx91pE7M9c+Nh/Mp+TqpuaeWUpO2p/Y5lrvzqGkv32y50BgMdLFctI1iNfPLBB3/73e/+y/n5Hz7//N89b+w45VyZDb/46qu/+M1vfvn6dY0W1kYc3cSUOTjuYYNSHE6Y8ymJkPQWbuFM0wf91aKomPWrjV+0rvpep6HrDimexWLqyNndapTah5VsGTtZLJgnEfdkT9MegyugU+j6QMt9o+NdcZ56f8WGjhtckb6ODwdXrvRE0vc+/LAWmf/19dd/89vf1rfXKY8cyshqc02O+Po2vPQdTzjB48FxRHZv7Y6vw+hqs35Wuto8VRQJ4REx7Imvg8XSHVzeVamUs+nApdViREQxeSK+qdyAjXszyYipfJBtWrstutFBWQrDzSCfP0nhD0B11Y+hCchmukQnxyr9IrXYIh/V19lpqzr5lpmel2OwU5nf0L7mduTPLJgLy89fqLG5yQ4mGcttC16FplWky3JwvkhpKk4k6fjjN99ch+E//f73FWTI6cDJb5nJ7NAmcqdn1d5VFIf+Iqp6RG+0OonuUicF02y1mAh/5z0MtSgqRDhXp+FoVfLq4ZkkGb8KFtfxdvXxIhz6g3vxYO1stUjNlMnp4OwmdyayiUZ9i7zwTEo7no3BjPl8nrkhmS832M/MxjTMSo5ZsvKqvGRlPdT1d15L4bUlVOTlG9Kt5BjsyX8skYFzIccA2zxJCr9r6YTosHqhT+kOXyMNKTXUfwtYKeVk1jVreiJJ//6d8v9m5+effPCBTdGz7L4i4FDxHH+zpbkq0uXuhVa+0ckK4Ywl0cMBhjumb4pT4iVNlI7NXPR0hwIf5XO5LfPcGojqhlVBFxfZoCymsh7yQYhMZmZ6WulcswYlYycnvpLJo4up5NMNcpR26uwpB7+bmdvRkD/vFhgu1NVb+5hjYy3QnNJDicqUqIEmJpLy/O7t27/73e+qL5HxhFje7f20fxseNmSlohTSDRxBFN3UsSZmGYas+Ee0OqmoLg6vyQkGznK1yIhahsFJWFJqT9bN7IW9PFrtkWQIVj43M9MzbkqjNyqdfI7eNu1sCHO7ZPKkMxxoeWvkyItvyzsiIvqPH/yg3okkJb/46qt/CMM//vnP1UXtTmccCjI3C0azlc0sjI5o5VcXwicO/UVZt0UDvJny7HG8499v6hqXdXJs023l21KXPV2jrvpUBp9KyK9yFZN9xTAOvau0wycffLCJwbx79+7JkydExHdlgq+//r+tO/I/b9/+73ZP9etvvvlNajHvF2/eEFEyh9X8at/OE8fL7DE5ipdsHy2d8GaqBzmYo17GCdBNu5QYztIzMpybhJWKuoJAtg6QMr/OGNt0jgHEjq+UvgPZyqkSt2iiHS+KZmRajiDuxf8ohG+VYUxgSuCrqO427bG2f/Stb/3800+J6N27d+/evSOiX//pT4WuSTnqWO3bD7Zn6QIVT9IfmngomWuWU6S/qv4QZnV5Wm86sdCM/EiX/J25RKlCaWqV+uF7JwZjlDJ16pTGlEvPm1RYaTqTdHKY6bZylPnLtSPH/8irKOxUmcT8t0oVhvIq0XU/XXrykH2y4J5fVteIZOXNZFLMjVXaEkNrlpDGz5xQeBWzvCWa1YrZ+fnff/llwZl4AOSZz+f53/Mxk66NDtZMB00Cx4Ch4+m+strTVKilfTplTKNY3QVKNCsATfCkOAsDXdffSwi0XmwfWAE4ZgwP9FYP8VZRhxaoK0rUP5qOzQDApB5vBgAAzOC210vQrKAjdGIVMAAAANAyQ9f3wuA6feiMdO/P7iod+/sofHB5txgZJAkn0B9DN1sZr7XVlSDlMEq9k1I449PwmtzMKXa7FO2cEk7gy5tgtyaNeI5/FQc5g+XUF5PaTy4GAIAawQKLXnLIzSrGfu6oWenWc7Tu5qDbgT82nDYsnEB90K0Y+wOb83bldDDgmp0poHCCjJFaq4wIJ8gZ4DmKt0ZsUFeOdO8H2dOB+SA2AwBolcO884HeIeSlUEUddl837QmxjB9jDkNX4zRE2Rc5LeN4Gd7ywxUZZiE7RCHPhhRPlKER6QYi9MPUF+t4GYeTSIx9/zIK/IgojmbpC08FGQ8F1tYAkecOhpkXYjrOpSLIJLxThcGeOKU49MsGxuDNAAAAODqGjuNFq6Xj3+fe1rT7AmpKT7XMVotZ5m2L0r13aVTyHqw423eDyp+Q03zUJA4na0lEV/7gSqPiXipfPBnfRApXyxOkTE+zDIMdD8kWIV9Gt6OsAHnliNmq/DTTU6zVBwAAcGTISxlPgmgZRzsvBtq80tm4dCMbrTmTFJmWlWTy76JckiLGvv9SnTl3ep5wAl8TmLFh5x2cjkw5Rlrh+iBNNFrR1D1VRF8etTjDxGPchLXk2ZCIstEdi6I9vTj6d7IAAFoAe15Ah5Bnwyg82d4mMzfmdGxGsRpXnk8fV7AK75RmIU0HA9UaEf/+QVJTryAYOg6FVV2ZDYqIi3Tvz+50whVhqu1l04FLRFfnzizvF+5Mycnp4OxmFRGJsSMzVT10B1MK+UV7SnjJHAAAgCNCjB1JQgbxOrl/q+/lTjzJzSAtw+DG9cfr4Dp+WHwziaJZlI2aeI4/pduiGRmrmab81e5UUspnytpZaT6IT2p1juf4gbMeLRbKNzAs4zUpl0VL52pd9dXcD+tm4NAAAAA4CqRztY5mgm7K3uxnq9ux749vg5mUXmRaM1uEbqbpnApfrymcwM3GMx6/8sWkZOnkdOAOY+VSGw3RauT49wNBRMswOFnY6hXjs7j04t+Ex1XAcGgAAAD0HTF2aBTcXcqzdKrnqCIccZhLevji+jYKfP8yFrPw4TZscejLVrivnn2Nr4Nga5XjqXcYifG54xFZr5k9FR4Vehvx5NZuNe4yDHzyA2ddwoXyHIfCFTnOMFfSZWzxyvSdPU1waAAAAPQYzzl/GQbXJC930zUzTXpBceivxL0TJe7LbLW6HAymZHJodhbbxvFSiO2hMvEkuKVz/yo/EaPY5CzGvv8yDCaOcrFwEeu44vF0y5jG/iBrahzPIroaDKaP2WJPiMJjAJfhakZEYXw18L0Ky5l3vBm4MgAAAPqLHNKtRfjExGbxDU2daOsGRTeRO3WcSaQNbCzD4HELlRBenDgWYuyf0+3ipPheLqcD51WwGMVi7NAwf8TLA/UUMofwTonu4utgcZ21y713Yn+xSMo+dAfT9eqG5I4x0r2XaYujm+0fk9AJlAuHeTx6M3BlAAAA9JroWjN3ZDnTtF24Gp7du84wfFj7soxjOuWa4snzwBGGtbqKrd2bs20WQTIjY1g3w7XDmvgVZ/5Hupd3C8XC3tyepuSbZRQtHTkUm31Mwjul4jmxFA/eDJBcxbEAAAM8SURBVFwZAAAAR4vlTJOcujRaRETrieNP3bvZKiKiZbxmn+ErhlJQtEopFaoT8NLLhOX07O5kUSno4onT5YOLJl6ekmat8XqZGHUqdlfnnL4U6xuGk+Gtw9z5eEXE8TJzMLENTwmuDAAAAMBFjH2XVosZEVE8i+Ir52y4imZEFK2UO5NVMuSliCe3adek8KS4aJQ736XGmaaHOJAQXhy/kpKiSLEcWAgvuuOUUX9goIFoFJQXYncW8Hw+V6bDGQIAAHC48GeaPOf8Zfg4v7OMomXu3QjF6qT0oujm3B0GlU7Vs51p8h72pQtah5OIktNflmEwSgxbhz6d3Q/ORotVZnGMJyXFtxXsbZCncEQAAAAcOcyZpocz8XZCKvEytt0pLa8cmgThdSyng4HqvYwNIS9Po0lMRPH1SrkkSF4569EiIopO1k4wGEx3lrmIoVxPglZO5KPTl5YuIt46CQAAAGh5XI0rnCvF8b7p+RE5dtbXm1NxhdAtYh26rhcGo5g2r14auoN7l4jiSTP2PyLPKFzpHS85HSQzaNst6K77eGKykC+jMLuVydoG3Z4mIhJDSbNoO+FF8Y3FcTPwZgAAABwbm4Nedl7PpH4/wPadTdFosZrF4Ui/yWmTbUYPp+IS0VKV2XP8q3gnDjRbLWYrMfZ97XuwuSfzpl+yrZh/Gou7nP3x5DZapt5IsDPtFa1GZ3IqHjYXDR1xs8o7aCmlkcFVIiLyxGluT5PjiWTvUrwUj7VHsf06Yj5zDY0pBAAAAOpGOMHAHze2i9lz/HtX8YLpoTsIGItshu7gfvDwT/OeatosRla96lJO1UUTnlKzcIKBwSo5lA/ZxlpLaNeR0uI57q5hW+HZbP6973iKbwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDj4/8BST1au/ZJ0+gAAAAASUVORK5CYII=" alt="image"></li></ul> <p>Mongodb = JavaScript的语法 + 实现处理数据的功能</p> <h3 id="可视化工具"><a href="#可视化工具" aria-hidden="true" class="header-anchor">#</a> 可视化工具</h3> <p>对于mongodb的操作，很多的机构（团队）专门开发了一些可视化的工具，便于对mongo进行相关操作。</p> <p>MongoVue，对早期版本（3以前）支持的比较好，现在很久没有更新</p> <p>Robomongo.</p> <p>安装</p> <p>这是一个典型的windows安装程序，一路next下去即可</p> <p>安装完成，运行之</p> <p>不需要任何额外的配置，直接点击 save 就可以</p> <p>基本的一些操作
<img src="/notice/dist/assets/img/95.3c9114e0.png" alt="image"></p> <p>对于文档的显示，我们可以配置模式</p> <p><img src="/notice/dist/assets/img/96.d3bcac6d.png" alt="image"></p> <p><img src="/notice/dist/assets/img/97.79114b89.png" alt="image"></p> <h2 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h2> <p>在定义文档的时候，它其实就是一个对象，对象是由键值对（属性和值）构成的，键就是一个名称，永远就是一个字符串，但是值有所不同，描述姓名和年龄的时候，它们就不一样。
在这里，这个值根据所描述信息的特征不同，选用不同的类型来描述。这个就是数据类型。</p> <p>说白了，和js中的数据类型 是一致的。</p> <p><strong>文件存储格式</strong></p> <p>MongoDB的文件存储格式为BSON，所谓BSON是指二进制的JSON。</p> <p>我们在使用的时候，只需要按照json的格式来使用及理解即可，在mongodb的底层，会自动转成BSON。</p> <p><strong>MongoDB数据类型</strong></p> <p>在json的基础之上，再加入了一些特殊的数据类型，共同构成了mongodb中的数据类型。</p> <p>回顾一下js中的数据类型,简单来说，就两大类型：</p> <p>基本数据类型，数值、字符串、布尔、undefined、null</p> <p>引用类型，其实就是对象，有些比较重要的，如array和function</p> <p>Mongo中的数据类型如下：</p> <p><img src="/notice/dist/assets/img/98.75e60d0a.png" alt="image"></p> <h3 id="基本数据类型"><a href="#基本数据类型" aria-hidden="true" class="header-anchor">#</a> 基本数据类型</h3> <p>是指字符串、数值、布尔、undefined和null
注意:</p> <ul><li>对于字符串，使用单双引号均可，但插入到数据库中，都是双引号。</li> <li>数值类型在BSON中本身有32整型、64位整型和64浮点之分，但是shell中只支持64位浮点型</li> <li>null用于表示空值或不存在的键</li> <li>undefined表示未定义</li></ul> <p><img src="data:image/png;base64,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" alt="image"></p> <p>在mongodb中，不管加的是单引号还是双引号，最终都会使用双引号来引用。所有的键都会使用双引号来引用，也就是说严格按照json格式来保存的。</p> <p>关于数值类型，目前基本上都是使用浮动来表示，尽管在命令中看到的是整型，实际上是浮点，如下：</p> <p><img src="/notice/dist/assets/img/100.c9bbc803.png" alt="image"></p> <p>undefined基本上是不用的，null偶尔会出现</p> <h3 id="引用数据类型"><a href="#引用数据类型" aria-hidden="true" class="header-anchor">#</a> 引用数据类型</h3> <p>常见的数组、日期和内嵌文档</p> <p>数组：</p> <p><img src="/notice/dist/assets/img/101.8fed16b0.png" alt="image"></p> <p>日期:</p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>不是时间，在处理的时候不太方便,使用日期的时候，需要new Date()</p> <p><img src="/notice/dist/assets/img/103.df45d33a.png" alt="image"></p> <p>在实际开发的时候，如果说这个时间并不需要额外的处理，使用字符串是可以的，一旦有额外的需求，如倒计时，那就需要使用时间对象了。</p> <p>内嵌文档:</p> <p>说白了，就是对象又包含对象。</p> <p><img src="/notice/dist/assets/img/104.48bfd2b3.png" alt="image"></p> <blockquote><p>_id和ObjectId</p></blockquote> <p>对象id，首先看看长什么样子</p> <p><img src="/notice/dist/assets/img/105.10310dec.png" alt="image"></p> <p>ObjectId的键名是固定的，就是_id。它的值，如果没有显示指定，那么就按照一定的规则生成。<strong>_id的作用是确保当前的文档是唯一的。</strong></p> <p>如果我们显示指定了_id，会怎么样？</p> <p><img src="/notice/dist/assets/img/106.218834ae.png" alt="image"></p> <p><img src="data:image/png;base64,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" alt="image"></p> <p>这个自动生成的规则是什么？（了解）</p> <p><img src="/notice/dist/assets/img/108.32d0bea5.png" alt="image"></p> <p>了解这个ObjectId的生成机制，可以很好的完成随机编码的生成，并确保唯一。</p> <h2 id="mongodb增删改查（重点）"><a href="#mongodb增删改查（重点）" aria-hidden="true" class="header-anchor">#</a> MongoDB增删改查（重点）</h2> <h3 id="添加"><a href="#添加" aria-hidden="true" class="header-anchor">#</a> 添加</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.集合名.insert({})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>插入单条记录</p> <hr> <div class="language- line-numbers-mode"><pre class="language-text"><code>for(var i=0;i&lt;10;i++){
    db.集合名.insert({})
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>批量插入记录 使用js中循环 + insert即可</p> <h3 id="查询"><a href="#查询" aria-hidden="true" class="header-anchor">#</a> 查询</h3> <h4 id="简单查询"><a href="#简单查询" aria-hidden="true" class="header-anchor">#</a> 简单查询</h4> <p>find/findOne</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.collection.find({条件}, {返回的键})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>对于find而言，</p> <ul><li>如果没有指定条件，则返回所有的文档</li> <li>如果没有指定返回的键，就返回该文档中所有的键</li></ul> <p>返回键的指定：</p> <p>格式1：{键名 : 1}，表示返回的结果中要包含该键</p> <p>格式2：{键名：0}，表示返回结果中要过滤该键</p> <h4 id="比较查询"><a href="#比较查询" aria-hidden="true" class="header-anchor">#</a> 比较查询</h4> <p>在mongodb中，提供了一组比较操作符。</p> <table><thead><tr><th>指令</th> <th>含义</th></tr></thead> <tbody><tr><td>$lt</td> <td>&lt;  less than 小于</td></tr> <tr><td>$lte</td> <td>&lt;=  less than and equal 小于等于</td></tr> <tr><td>$gt</td> <td>&gt;   greater than 大于</td></tr> <tr><td>$gte</td> <td>&gt;=  greanter than and equal 大于等于</td></tr> <tr><td>$ne</td> <td>!=   not equal 不等</td></tr></tbody></table> <p>规则：将键名写在外面，比较操作符写在里面，以对象的形式来书写。</p> <p>需求：将小于30的用户查询出来</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find(age:{$lt:30},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意写法：</p> <ul><li>在mongodb的crud操作中，所有的内容都是以对象的方式来出现的。</li> <li>在查询中，首先是键名，然后才是比较操作符</li></ul> <h4 id="逻辑查询（or-and-not）"><a href="#逻辑查询（or-and-not）" aria-hidden="true" class="header-anchor">#</a> 逻辑查询（or/and/not）</h4> <p><code>and查询</code>同时满足多个条件
进一步的需求：查询所有的18~25岁的person
分解成两个：&gt;=18 和 &lt;=25</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find(age:{$gte:18,$lte:25},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注意：这里有个特点，都是针对age这个键来查询的，可以在比较操作符的对象中，写多个，它就表示同时满足其中的条件。</p> <p>把需求再提高一点：查询所有的18~25岁并且sex为male的person</p> <p>要查询的条件是两个不同的键，一个是age，一个是sex。</p> <p>此时，需要使用$and</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({
    $and:[
        {age:{$gte:18,$lte:25}},
        {sex:&quot;male&quot;}
    ]},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>注意：$and写在最外面,对应的and中的各个条件，需要使用数组来包含数组中，那就是简单查询或是比较查询</strong></p> <hr> <p><code>或查询</code>，只需要满足其中一个条件</p> <p>有两种方式实现：</p> <ul><li>$or</li> <li>$in</li></ul> <p>需求：查询age为18或者22的person</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({
    $or:[{
        age:18
    },{
        age:22
    }]
},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>注意：$or写在最外面,多个条件，需要使用数组[],里面的条件按照正常写法.</strong></p> <p>上面的需求有一个特点，都是针对age来进行比较的，如果是这种情况，我们可以使用$in来查询</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({
    age:{
        $in:[18,22]
    }
},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>注意：由于是只针对age进行查询，所以它写在最外面,然后是$in操作符，作为键名，它的值是一个数组。</strong></p> <p><strong>如果条件是不同的键，此时只能用$or</strong></p> <hr> <p><code>非操作查询</code>就是js中的取反</p> <p>需求：年龄18-22之外的person
使用$not的写法</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({
    age:{$not:{$gte:18,$lte:25}}
},{_id:0})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>注意：Not操作不是顶级操作符，不能写在最前面。</strong></p> <hr> <h4 id="数组查询"><a href="#数组查询" aria-hidden="true" class="header-anchor">#</a> 数组查询</h4> <p>配合使用 $all，$size，$slice来完成查询。还可以使用精确匹配，数组下标都是从0开始的，直接通过 key.index 语法来引用（但需要加引号）</p> <p>如有以下集合：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>{markect:&quot;m1&quot;,fruites:[&quot;苹果&quot;,&quot;香蕉&quot;,&quot;菠萝&quot;]}
{markect:&quot;m2&quot;,fruites:[&quot;苹果&quot;,&quot;猕猴桃&quot;,&quot;哈密瓜&quot;]}
{markect:&quot;m3&quot;,fruites:[&quot;葡萄&quot;,&quot;西瓜&quot;,&quot;哈密瓜&quot;]}
{markect:&quot;m4&quot;,fruites:[&quot;火龙果&quot;,&quot;猕猴桃&quot;,&quot;哈密瓜&quot;]}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>查询出售苹果的水果店</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.fruite.find({fruites:&quot;苹果&quot;})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如何理解？
可以将文档{ &quot;markect&quot; : &quot;m1&quot;, &quot;fruits&quot; : [&quot;苹果&quot;,&quot;香蕉&quot;,&quot;菠萝&quot;] }
理解为如下的内容：
{ &quot;markect&quot; : &quot;m1&quot;, &quot;fruits&quot; : &quot;苹果&quot;, &quot;fruits&quot; : &quot;香蕉&quot;,&quot;fruits&quot; : &quot;菠萝&quot; ] }</p> <p>查询既卖苹果又卖香蕉的水果店（$all）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.fruite.find({fruites:{$all:[&quot;苹果&quot;,&quot;香蕉&quot;]}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注意：要找的fruites字段，放在最外面，$all是一个操作符，它的值是数组，整体构成一个对象，作为fruites的值。</strong></p> <p>查询第二种水果是香蕉的水果店(key.index 加引号)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.fruite.find({&quot;fruites.1&quot;:&quot;香蕉&quot;})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询只卖两种水果的水果店($size)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.fruite.find({&quot;fruites&quot;:{$size:2}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询出售苹果的水果店，但结果只取前两种水果($slice)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.fruite.find({&quot;fruites&quot;:&quot;苹果&quot;},{fruites:{$slice:2}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注意：使用$slice的时候，需要指定对按个键进行筛选</strong></p> <hr> <h4 id="内嵌文档查询"><a href="#内嵌文档查询" aria-hidden="true" class="header-anchor">#</a> 内嵌文档查询</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>{name:{xing:&quot;李&quot;,ming:&quot;红&quot;}}
{name:{xing:&quot;张&quot;,ming:&quot;三&quot;}}
{name:{xing:&quot;小&quot;,ming:&quot;名&quot;}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对于这种内嵌文档，有两种查询方式：</p> <ul><li>查询整个文档</li> <li>只针对其键/值对进行查询</li></ul> <p>需求：查询姓名为李红的人</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({name:{xing:&quot;李&quot;,ming:&quot;红&quot;}})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({&quot;name.xing&quot;:&quot;李&quot;,&quot;name.ming&quot;:&quot;红&quot;})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注意：在查询内嵌文档时，如果使用了.的时候，需要加引号。否则就会出错</strong></p> <hr> <h4 id="限定结果查询"><a href="#限定结果查询" aria-hidden="true" class="header-anchor">#</a> 限定结果查询</h4> <p>limit命令和skip命令</p> <p>Limit：限制，取多少个，默认从第一个开始</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({},{_id:1}).limit(10)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>skip</p> <p>跳过多少个文档</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({},{_id:1}).skip(3)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以将这二者结合起来</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.users.find({},{_id:1}).skip(3).limit(10)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其实，这就是mongodb中分页的实现原理.</p> <p>注意：</p> <ul><li>limit和skip都是在find完成之后，对其结果进行再次的操作。</li> <li>并且它们是一个连贯的操作（链式编程）</li> <li>Limit和skip没有先后顺序</li></ul> <p>需求：需要将年龄最小的三个查询出来</p> <p>这就涉及到排序操作，使用order</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.find({},{_id:1}).sort({age:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>正序</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.find({},{_id:1}).sort({age:-1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>逆序</p> <p>注意：sort的参数是一个对象，还可以指定多个排序依据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.find({},{_id:1}).sort({age:-1,sex:1})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>如果第一个依据依据能够分出高低，第二个依据不会使用。只有当第一个依据不能分出高低，才会使用第二个依据。</strong></p> <p>有了排序，然后再结合前面的limit和skip就比较有用了</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>db.user.find({},{_id:1}).sort({age:-1,sex:1}).limit(10).skip(3)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="更新"><a href="#更新" aria-hidden="true" class="header-anchor">#</a> 更新</h2></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/notice/dist/outline/lesson5/2.html">
          随堂案例
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/notice/dist/assets/js/2.8a1ecbdb.js" defer></script><script src="/notice/dist/assets/js/app.7ccec205.js" defer></script>
  </body>
</html>
